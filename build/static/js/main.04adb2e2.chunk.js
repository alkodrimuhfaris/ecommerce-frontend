(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{137:function(e,t,a){},144:function(e,t){e.exports=[{value:{sort:{created_at:"DESC"}},label:"Terbaru"},{value:{sort:{created_at:"ASC"}},label:"Terlama"},{value:{sort:{name:"ASC"}},label:"Nama dari A - Z"},{value:{sort:{name:"DESC"}},label:"Nama dari Z - A"},{value:{sort:{price:"ASC"}},label:"Harga (termurah)"},{value:{sort:{price:"DESC"}},label:"Harga (termahal)"}]},244:function(e,t,a){},245:function(e,t,a){},249:function(e,t,a){e.exports=a.p+"static/media/icon.f75916ad.svg"},260:function(e,t,a){e.exports=a.p+"static/media/carousel2.3248073b.png"},261:function(e,t,a){e.exports=a.p+"static/media/carousel3.06d650c0.png"},269:function(e,t,a){e.exports=a(459)},275:function(e,t,a){},276:function(e,t,a){},282:function(e,t,a){},299:function(e,t,a){},436:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(35),l=a.n(c),s=(a(274),a(275),a(276),a(7)),o=a(15),i=a(16),d=a(19),m=a(20),u=a(33),p=a(31),g=a(48),E=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.location)}},{key:"render",value:function(){var e=this;return r.a.createElement(p.b,{render:function(t){var a=r.a.Children.map(e.props.children,(function(e){return r.a.isValidElement(e)?(console.log("react is valid"),r.a.cloneElement(e,t)):e}));return e.props.auth.isLogin?a:r.a.createElement(p.a,{to:{pathname:"/login",state:{alert:"Login first!",color:"danger",from:e.props.location}}})}})}}]),a}(n.Component),f=Object(s.b)((function(e){return{auth:e.auth}}))(E),h=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.location)}},{key:"render",value:function(){var e=this;return r.a.createElement(p.b,{render:function(t){var a=r.a.Children.map(e.props.children,(function(e){return r.a.isValidElement(e)?(console.log("react is valid"),r.a.cloneElement(e,t)):e}));return e.props.auth.isLogin?e.props.auth.isSeller?a:r.a.createElement(p.a,{to:{pathname:"/"}}):r.a.createElement(p.a,{to:{pathname:"/login",state:{alert:"Login as a seller!",color:"danger",from:e.props.location}}})}})}}]),a}(n.Component),b=Object(s.b)((function(e){return{auth:e.auth}}))(h),v=a(123),O=a.n(v),y=a(186),j=a(463),N=a(3),_=a(10),I=a(268),S=a(462),D=a(464),C=a(465),x=a(466),P=a(467),w=a(468),A=a(498),T=a(469),k=a(470),L=a(471),M=a(472),R=a(473),U=a(474),G=a(475),F=a(36),q=a(104),B=a(252),H=a(251),z=a(144),V=a.n(z),W=a(249),Y=a.n(W);a(282);function J(e){var t=e.children,a=e.isOpen,n=r.a.useState(!1),c=Object(_.a)(n,2),l=c[0],s=c[1];r.a.useEffect((function(){return s(a),function(){return s(!1)}}),[a]);return l?r.a.createElement("div",{className:"position-absolute",style:{bottom:"0",left:"50%",transform:"translate(-50%, calc(100% + 6.6px))"}},r.a.createElement("div",{style:{minWidth:"100px",width:"auto",height:"auto",backgroundColor:"white",border:"1px solid rgba(0, 0, 0, 0.3)",borderRadius:"0.5em",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",width:"16px",height:"16px",top:"0px",left:"50%",transform:"translate(-50%, -74.5%)",zIndex:"20",borderTop:"1.15px solid rgb(255, 255, 255)"}},r.a.createElement("div",{style:{width:"100%",paddingBottom:"70.921985816%",overflow:"hidden",position:"relative",border:"0",backgroundColor:"transparent"}},r.a.createElement("div",{style:{borderLeft:"1px solid rgba(0, 0, 0, 0.3)",borderTop:"1px solid rgba(0, 0, 0, 0.3)",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"white",transformOrigin:"0 100%",transform:"rotate(45deg)"}},"\xa0"))),t)):null}var Q=a(250),K=a.n(Q),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return K.a.create({baseURL:"http://localhost:8989",headers:{Authorization:e?"Bearer ".concat(e):void 0}})},$=function(e){return{type:"GET_PROFILE",payload:Z(e).get("/users")}},X=function(e,t){return{type:"PATCH_PROFILE",payload:Z(e).patch("/users",t)}},ee=function(e){return{type:"DELETE_AVATAR",payload:Z(e).delete("/users/avatar")}},te=function(){return{type:"CLEAR_STATE"}},ae={login:function(e,t){return{type:"AUTH_USER_LOGIN",payload:Z().post("/auth/login/".concat(t),e)}},logout:function(){return{type:"AUTH_USER_LOGOUT"}},setToken:function(e){return{type:"SET_TOKEN",payload:e}},clearMessage:function(){return{type:"CLEAR_MESSAGE"}}},ne=a(69),re=a.n(ne),ce=function(e){return{type:"ADD_SEARCH_QUERY",payload:e}},le=function(){return{type:"CLEAR_QUERY"}};function se(){var e=window,t=e.innerWidth;return{width:t,height:e.innerHeight,xs:t<576,md:t<768,lg:t<992,xl:t<1200}}function oe(){var e=Object(n.useState)(se()),t=Object(_.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(se())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}a(299);function ie(e){var t=e.inSearchPage,a=void 0!==t&&t,c=(Object(I.a)(e,["inSearchPage"]),oe()),l=c.width,o=c.md,i=Object(n.useState)(!1),d=Object(_.a)(i,2),m=d[0],g=d[1],E=Object(n.useState)(""),f=Object(_.a)(E,2),h=f[0],b=f[1],v=Object(n.useState)({value:{sort:{created_at:"DESC"}},label:"Terbaru"}),O=Object(_.a)(v,2),y=O[0],z=O[1],W=Object(n.useState)(""),Q=Object(_.a)(W,2),K=Q[0],Z=Q[1],X=Object(n.useState)(""),ee=Object(_.a)(X,2),te=ee[0],ne=ee[1],le=Object(n.useState)(!1),se=Object(_.a)(le,2),ie=se[0],de=se[1],me=Object(s.d)((function(e){return e.searchQuery.query})),ue=Object(s.d)((function(e){return e.auth.token})),pe=Object(s.d)((function(e){return e.auth.isSeller})),ge=Object(s.d)((function(e){return e.auth.isLogin})),Ee=Object(s.d)((function(e){return e.profile.userData})),fe=Object(s.c)(),he=Object(p.g)(),be=r.a.useRef(null),ve=Object(n.useState)(!1),Oe=Object(_.a)(ve,2),ye=Oe[0],je=Oe[1];Object(n.useEffect)((function(){console.log(l)}),[l]),Object(n.useEffect)((function(){ue&&fe($(ue)),console.log(pe)}),[]);var Ne=function(e,t){t.preventDefault(),he.push(e)};return r.a.createElement(u.a,null,r.a.createElement(S.a,{className:"w-100 bg-white text-dark shadow justify-content-start sticky-top",light:!0,expand:"md"},r.a.createElement(j.a,null,r.a.createElement(D.a,{style:{width:o?"20%":"15%"}},r.a.createElement(C.a,{style:{width:"100%",minWidth:"75px",backgroundColor:"#fff",border:"none"},onClick:function(e){return Ne("/",e)}},r.a.createElement("img",{src:Y.a,className:"img-fluid",alt:"logo"}))),r.a.createElement("div",{style:{width:o?"50%":"60%"}},r.a.createElement(x.a,{onSubmit:function(e){e.preventDefault();var t=h?{name:h}:void 0,n=Object.keys(y).length?y.value.sort:void 0,r={before:K,after:te},c=Object(N.a)(Object(N.a)({},me),{},{search:t,date:r,sort:n});fe(ce(c)),a||he.push("/search")},style:{width:"95%"},className:"d-flex"},r.a.createElement(P.a,{style:{width:"80%"}},r.a.createElement(w.a,{className:"".concat(o?"input-search-md":"input-search"),name:"search",style:{borderRadius:"50px 0 0 50px"},id:"search",value:h,onChange:function(e){return b(e.target.value)}}),r.a.createElement(A.a,{outline:!0,className:o?"search-add-on":"",color:"secondary",addonType:"append"},r.a.createElement(C.a,{outline:!0,className:"position-relative ".concat(o?"input-btn-md":"input-btn"),color:"success",style:{borderRadius:"0 50px 50px 0"},type:"submit"},r.a.createElement(q.b,{size:o?"0.75em":"1em",className:o?"search-icon-md":"search-icon"})))),r.a.createElement("div",{className:"ml-2 position-relative d-flex align-items-center"},r.a.createElement(C.a,{ref:be,type:"button",id:"filterBtn",name:"filterBtn",onClick:function(){return de((function(e){return!e}))},outline:!0,color:"success",className:"btn-popover ".concat(o?"btn-popover-md":"btn-popover-lg")},r.a.createElement(q.a,{size:o?"0.75em":"1em",className:"filter-icon"})),r.a.createElement(J,{isOpen:ie},r.a.createElement("div",{className:"pt-2 px-2"},r.a.createElement(x.a,null,r.a.createElement(T.a,{for:"sortKey"},"Sort by"),r.a.createElement(F.a,{id:"sortKey",className:"mb-4",value:y,options:V.a,onChange:function(e){return z({sort:e})}}),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"filterDateFrom"},"From Date"),r.a.createElement(w.a,{type:"date",name:"dateFromVal",id:"filterDateFrom",value:te,onChange:function(e){return ne({after:e.target.value})}})),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"filterDateTo"},"To Date"),r.a.createElement(w.a,{type:"date",name:"dateToVal",id:"filterDateTo",value:K,onChange:function(e){return Z({before:e.target.value})}}),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(C.a,{color:"success",className:"rounded-pill my-3 mr-1",onClick:function(){return de((function(e){return!e}))}},"Close"),r.a.createElement(C.a,{outline:!0,color:"danger",className:"rounded-pill ml-1 my-3",onClick:function(e){e.preventDefault(),z({value:{sort:{created_at:"DESC"}},label:"Terbaru"}),b(""),Z(""),ne("")}},"Abort All"))))))))),r.a.createElement(L.a,{onClick:function(){return g(!m)}}),r.a.createElement(M.a,{isOpen:m,navbar:!0},r.a.createElement(R.a,{className:"ml-auto",navbar:!0},r.a.createElement(U.a,{className:"d-flex align-items-center"},r.a.createElement(G.a,{className:"mx-3 my-1 d-flex align-items-center justify-content-center",onClick:function(e){return Ne("/cart",e)}},r.a.createElement(q.c,{size:"1em"}),o?r.a.createElement("text",{className:"mx-2 my-1 text-secondary"},"Carts"):null)),ge?r.a.createElement(u.a,{className:"d-flex align-items-center"},r.a.createElement(U.a,{className:"d-flex align-items-center"},r.a.createElement(G.a,{className:"mx-3 my-1 d-flex align-items-center",onClick:function(e){e.preventDefault()}},r.a.createElement(H.a,{size:"1em"}),o?r.a.createElement("text",{className:"mx-2 my-1 text-secondary"},"Notifications"):null)),r.a.createElement(U.a,{className:"d-flex align-items-center"},r.a.createElement(G.a,{className:"mx-3 my-1 d-flex align-items-center",onClick:function(e){e.preventDefault()}},r.a.createElement(B.a,{size:"1em"}),o?r.a.createElement("text",{className:"mx-2 my-1 text-secondary"},"Messages"):null)),r.a.createElement(U.a,{className:"position-relative"},r.a.createElement(G.a,{onClick:function(){return je((function(e){return!e}))},className:"mx-2 my-2 d-flex align-items-center"},r.a.createElement("div",{className:"d-flex w-auto align-items-center position-relative"},r.a.createElement(C.a,{id:"profile-popover",name:"profile-popover",className:"rounded-circle p-0 position-relative drop-down-toggle"},r.a.createElement("div",{className:"rounded-circle w-100 h-100 overflow-hidden position-relative"},r.a.createElement("img",{src:Object.keys(Ee)&&Ee.avatar?"".concat("http://localhost:8989","/").concat(Ee.avatar):re.a,alt:"avatar",className:"position-absolute img-fluid avatar"}))),o?r.a.createElement("text",{className:"mx-2 my-2 text-secondary"},"Profile"):null,r.a.createElement(J,{isOpen:ye},r.a.createElement(C.a,{block:!0,outline:!0,color:"success",style:{border:0,borderRadius:0,borderTopLeftRadius:"0.5em",borderTopRightRadius:"0.5em"},onClick:function(e){return Ne("/profile",e)}},"Profile"),pe?r.a.createElement(C.a,{block:!0,outline:!0,color:"success",style:{border:0,borderRadius:0},onClick:function(e){return Ne("/admin",e)}},"Admin"):null,r.a.createElement(C.a,{block:!0,outline:!0,color:"success",style:{border:0,borderRadius:0,borderBottomLeftRadius:"0.5em",borderBottomRightRadius:"0.5em"},onClick:function(){return fe(ae.logout()),void he.push("/login")}},"Log Out")))))):r.a.createElement(u.a,null,r.a.createElement(U.a,null,r.a.createElement(C.a,{className:"mx-2 my-1 rounded-pill",color:"success",onClick:function(e){return Ne("/login",e)}},"Login")),r.a.createElement(U.a,null,r.a.createElement(C.a,{className:"mx-2 my-1 rounded-pill",outline:!0,color:"secondary",onClick:function(e){return Ne("/signup",e)}},"Signup"))))))))}var de=a(476),me=a(477),ue=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"mt-3 bg-success text-white py-5",color:"light",light:!0,expand:"md"},r.a.createElement(j.a,null,r.a.createElement(de.a,null,r.a.createElement(me.a,null,"\xa9 Tuku!"))))}}]),a}(n.Component),pe=a(44),ge=a(23),Ee=a(499),fe=a(479),he=a(480),be=a(483),ve=a(478),Oe=a(500),ye=a(481),je=a(12),Ne=a(11),_e=a(109),Ie=a(22),Se=a.n(Ie),De=a(51),Ce={addNewItem:function(e,t){return{type:"POST_ITEM",payload:Z(e).post("/items",t)}},updateItem:function(e,t,a){return{type:"UPDATE_ITEM",payload:Z(e).patch("/items/update/".concat(t),a)}},updateImage:function(e,t,a,n){return{type:"UPDATE_IMAGE",payload:Z(e).patch("/items/image/update/single".concat(a).concat(n),t)}},updateDetailItem:function(e,t,a,n){return{type:"UPDATE_DETAIL",payload:Z(e).patch("/items/detail/update/".concat(a).concat(n),t)}},deleteItem:function(e,t){return{type:"DELETE_ITEM",payload:Z(e).delete("/items/delete/".concat(t))}},deleteDetailItem:function(e,t,a){return{type:"DELETE_ITEM_DETAILS",payload:Z(e).delete("/items/detail/delete/".concat(t,"/").concat(a))}},deleteImage:function(e,t,a){return{type:"DELETE_IMAGE",payload:Z(e).delete("/items/image/delete/single/".concat(t,"/").concat(a))}},addQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"ADD_QUERY",payload:e}},getAdminItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"GET_SELLER_ITEM",payload:Z(e).get("/items?".concat(Se.a.stringify(t)))}},getAllColors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"GET_COLOR",payload:Z().get("/colors?".concat(Se.a.stringify({page:e,limit:t,search:{name:a}})))}},getItemDetails:function(e,t){return{type:"GET_ITEM_DETAILS_ADMIN",payload:Z(e).get("/items/seller/".concat(t))}},getCondition:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,limit:"-"};return{type:"GET_CONDITION",payload:Z(e).get("items/condition?".concat(Se.a.stringify(t)))}}},xe={getCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return{type:"GET_CATEGORIES",payload:Z().get("/public/categories?".concat(Se.a.stringify({page:e,limit:t})))}},getCategoriesDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{type:"GET_CATEGORY_DETAIL",payload:Z().get("/public/categories/".concat(e,"?").concat(Se.a.stringify({page:t,limit:a})))}}},Pe=a(267),we=(a(436),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.setState((function(e){return{displayColorPicker:!e.displayColorPicker}}))},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChange=function(e){n.setState({color:e.hex})},n.state={displayColorPicker:!1,color:"#ffffff",borderColor:"secondary",tooltipOpen:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({color:this.props.value?this.props.value:"#ffffff",tooltipOpen:!0})}},{key:"componentDidUpdate",value:function(e,t){e.value!==this.props.value?this.props.value!==this.state.color&&this.setState({color:this.props.value}):t.color!==this.state.color&&this.props.value!==this.state.color&&this.props.value!==this.state.color&&this.props.setValues(this.props.name,this.state.color),e.error===this.props.error&&e.touched===this.props.touched||this.setState({borderColor:this.props.error&&this.props.touched?"danger":"secondary"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(C.a,{id:this.props.id,color:this.state.borderColor,outline:!0,type:"button",className:"swatch",onClick:this.handleClick},r.a.createElement("div",{className:"color",style:{backgroundColor:this.state.color}})),this.props.error&&this.props.touched?r.a.createElement(ve.a,{isOpen:this.state.tooltipOpen,placement:"bottom",target:this.props.id},this.props.err.detailArr[this.props.index].hex):null,this.state.displayColorPicker?r.a.createElement("div",{className:"popover"},r.a.createElement(Pe.a,{disableAlpha:!0,color:this.state.color,onChange:this.handleChange})):null)}}]),a}(r.a.Component)),Ae=(a(137),a(74)),Te=a.n(Ae);function ke(e){var t=e.modalOpen,a=void 0!==t&&t,n=e.title,c=void 0===n?"Warning":n,l=e.content,s=void 0===l?"Are you sure want to delete this?":l,o=e.confirm,i=void 0===o?function(){}:o,d=e.confirmTxt,m=void 0===d?"Yes":d,u=e.close,p=void 0===u?function(){}:u,g=e.closeTxt,E=void 0===g?"No":g,f=r.a.useState(!1),h=Object(_.a)(f,2),b=h[0],v=h[1];r.a.useEffect((function(){v(a)}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{isOpen:b},r.a.createElement(fe.a,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("text",null,c))),r.a.createElement(he.a,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("text",null,s))),r.a.createElement(ye.a,{className:"d-flex justify-content-around"},r.a.createElement(C.a,{color:"success",onClick:function(e){return function(e){e.preventDefault(),i(),v(!1)}(e)},className:"rounded-pill"},m),r.a.createElement(C.a,{color:"danger",onClick:function(e){return function(e){e.preventDefault(),p(),v(!1)}(e)},className:"rounded-pill"},E))))}var Le=a(482);function Me(e){var t=e.modalOpen,a=void 0!==t&&t;return r.a.createElement(Ee.a,{isOpen:a,size:"sm"},r.a.createElement(he.a,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{maxHeight:"200px",height:"20vw",backgroundColor:"transparent",aspectRatio:1}},r.a.createElement(Le.a,{color:"#457373"}))))}var Re=Ne.d().shape({name:Ne.f().required("Product name is required!").min(2,"Product name is too short"),price:Ne.c().min(1,"Price Cannot be zero!").required("Price is required!"),stock:Ne.c().required("Stock is required!"),categoryName:Ne.f().required("Category is required!"),description:Ne.f().required("Description is required!"),weight:Ne.c().min(1,"Weight cannot be zero!").required("Weight is required!"),condition_id:Ne.c().required("Insert your item's condition!"),detailArr:Ne.a().of(Ne.d().shape({colorName:Ne.f().required("Color name is required!").min(2,"Color name is too short"),hex:Ne.f().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i,"Input valid hex!").required("Color hex is required!"),available:Ne.b().required("Specify wether your item is available or not!")}))}),Ue=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).itemDetailObj={colorName:"",hex:"",available:!0},n.selectStyle={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{borderColor:t.selectProps.error?"#7C4935":t.selectProps.touched?"#457373":"rgba(0,0,0,.2)"})}},n.openDeleteImage=function(e){n.setState({imgDel:!0,imgDelIndx:e})},n.handleDeleteImage=function(){var e=Object(ge.a)(n.state.image);e[n.state.imgDelIndx]={product_image:"",name:"",file:void 0},n.setState({image:e,imgDel:!1,notifDel:!0})},n.closeDeleteImage=function(){n.setState({imgDel:!1})},n.openDeleteDetail=function(e,t){n.setState({arrayHelpers:t,indexSelected:e,modalDelete:!0})},n.deleteDetail=function(){n.state.arrayHelpers.remove(n.state.indexSelected),n.setState({modalDelete:!1})},n.closeDetailModal=function(){n.setState({modalDelete:!1})},n.handleChangeColor=function(e,t,a){var n=e.id,r=e.hex;a("detailArr[".concat(t,"].colorName"),e.value),a("detailArr[".concat(t,"].hex"),n&&r?r:"")},n.handleAdd=function(e){var t,a=Object(N.a)({},e);t=!!n.state.image[0].product_image,n.setState({imageTest:t}),console.log(t);var r=!0;if(e.detailArr.forEach((function(e){r=e.available})),n.setState({availableTest:r}),console.log(r),console.log(e),t&&r){var c,l=new FormData,s=Object(pe.a)(n.state.image);try{for(s.s();!(c=s.n()).done;){var o=c.value;l.append("product_image",o.file);var i=o.file?o.name:"";l.append("imageOrder",i)}}catch(f){s.e(f)}finally{s.f()}var d=a.detailArr.length?Se.a.stringify({detailArr:Object(ge.a)(a.detailArr)}):void 0;Object.assign(a,{detailArr:d});for(var m=0,u=Object.entries(a);m<u.length;m++){var p=Object(_.a)(u[m],2),g=p[0],E=p[1];l.append(g,E)}n.props.addItem(n.props.auth.token,l)}},n.handleClose=function(e){e.preventDefault(),n.props.modalCloseNew("crt")},n.onImageChange=function(e,t){if(e.target.files&&e.target.files[0]){var a=Object(ge.a)(n.state.image),r=Object(_.a)(e.target.files,1)[0];if(r.size>512e3)n.setState({oversizeNotif:!0});else{a[t]={product_image:URL.createObjectURL(r),name:"product_image_".concat(t+1),file:r},console.log(e.target.value),console.log(r);var c=0===t||n.state.imageTest;n.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{imageTest:c,image:a})}))}}},n.optionChange=function(e,t,a){t(a,e.value)},n.scroll=function(e){e.current.scrollIntoView({behavior:"smooth"})},n.state={popUpMsg:"",categoryOpt:[],colorOpt:[],conditionOpt:[],image:[{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0}],availableTest:!0,imageTest:!0,arrayHelpers:[],indexSelected:null,modalDelete:!1,imgDel:!1,imgDelIndx:null,notifDel:!1,notifPost:!1,oversizeNotif:!1,oversizeNotifProps:{title:"Warning!",content:"File should be less than 500 kb!",close:function(){n.setState({oversizeNotif:!1})},confirm:function(){n.setState({oversizeNotif:!1})}},propsNotifCreate:{}},n.itemRef=r.a.createRef(),n.imageRef=r.a.createRef(),n.colorRef=r.a.createRef(),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategories(),this.props.getAllColors(),this.props.getCondition(this.props.auth.token)}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.categories!==this.props.categories){var a=this.props.categories.map((function(e){return e={value:e.name,label:e.name,id:e.id}}));this.setState({categoryOpt:a}),console.log("update cateogriesOpt")}if(e.colors!==this.props.colors){var n=this.props.colors.map((function(e){return e={value:e.name,label:e.name,id:e.id,hex:e.hex}}));this.setState({colorOpt:n}),console.log("update colorOpt")}if(e.condition!==this.props.condition){var r=this.props.condition.map((function(e){return e={value:e.id,label:e.item_condition}}));this.setState({conditionOpt:r}),console.log("update colorOpt")}e.admin.postItemPending!==this.props.admin.postItemPending&&(this.props.admin.postItemSuccess?(this.setState({propsNotifCreate:{close:function(){t.props.getAllItem(t.props.auth.token),t.setState({notifPost:!1}),t.props.modalCloseNew("crt")},confirm:function(){t.props.getAllItem(t.props.auth.token),t.setState({notifPost:!1}),t.props.modalCloseNew("crt")},title:"Success!",content:"Success create new item!"}}),this.setState({notifPost:!0,image:[{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0}]})):this.props.admin.postItemError&&(this.setState({propsNotifCreate:{close:function(){t.setState({notifPost:!1})},confirm:function(){t.setState({notifPost:!1})},title:"Error!",content:"Unable to create new item!"}}),this.setState({notifPost:!0})))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{isOpen:this.props.modalOpenNew,size:"lg"},r.a.createElement(fe.a,null,"Add New Item"),r.a.createElement(he.a,null,r.a.createElement(je.c,{initialValues:{name:"",price:0,stock:0,categoryName:"",description:"",weight:"",condition_id:"",detailArr:[Object(N.a)({},this.itemDetailObj)]},validationSchema:Re,validateOnBlur:!0,onSubmit:function(t){e.handleAdd(t)}},(function(t){var a=t.touched,n=t.errors,c=t.handleSubmit,l=t.values,s=t.handleChange,o=t.handleBlur,i=t.setFieldValue;return r.a.createElement(x.a,{onSubmit:c},r.a.createElement("h3",{className:"text-success mt-2 mb-1"},"Item Detail"),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"name"},"Item's name"),r.a.createElement(w.a,{tag:je.a,type:"text",name:"name",id:"name",value:l.name,onChange:s,onBlur:o,valid:!n.name&&a.name,invalid:n.name}),n.name||a.name?r.a.createElement(be.a,{invalid:!0},n.name):null),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:6,md:8},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"categoryName"},"Category"),r.a.createElement(_e.a,{tag:je.a,id:"categoryName",styles:e.selectStyle,error:n.categoryName,touched:l.categoryName,onChange:function(t){e.optionChange(t,i,"categoryName")},options:e.state.categoryOpt}),n.categoryName||a.categoryName?r.a.createElement("text",{className:"error-form"},n.categoryName):null)),r.a.createElement(me.a,{xs:6,md:4},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"condition_id"},"Condition"),r.a.createElement(F.a,{tag:je.a,id:"condition_id",styles:e.selectStyle,error:n.condition_id,touched:l.condition_id,onChange:function(t){e.optionChange(t,i,"condition_id")},options:e.state.conditionOpt}),n.condition_id||a.condition_id?r.a.createElement("text",{className:"error-form"},n.condition_id):null))),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"price"},"Price"),r.a.createElement(P.a,null,r.a.createElement(A.a,{addonType:"prepend"},"Rp"),r.a.createElement(w.a,{tag:je.a,type:"number",name:"price",id:"price",value:l.price,onChange:s,onBlur:o,valid:!n.price&&a.price,invalid:n.price}),r.a.createElement(A.a,{addonType:"append"},".00")),n.price||a.price?r.a.createElement("text",{className:"error-form"},n.price):null),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"stock"},"Stock"),r.a.createElement(w.a,{tag:je.a,type:"number",name:"stock",id:"stock",value:l.stock,onChange:s,onBlur:o,valid:!n.stock&&a.stock,invalid:n.stock}),n.stock||a.stock?r.a.createElement(be.a,{invalid:!0},n.stock):null),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"weight"},"Weight"),r.a.createElement(P.a,null,r.a.createElement(w.a,{tag:je.a,type:"number",name:"weight",id:"weight",value:l.weight,onChange:s,onBlur:o,valid:!n.weight&&a.weight,invalid:n.weight}),r.a.createElement(A.a,{addonType:"append"},"gram")),n.weight||a.weight?r.a.createElement("text",{className:"error-form"},n.weight):null),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"description"},"Description"),r.a.createElement(w.a,{type:"textarea",name:"description",id:"description","aria-multiline":!0,value:l.description,onChange:s,onBlur:o,valid:!n.description&&a.description,invalid:n.description}),n.description||a.description?r.a.createElement(be.a,{invalid:!0},n.description):null),r.a.createElement("h3",{className:"text-success mt-2 mb-1"},"Product Image"),r.a.createElement("div",{className:"row"},r.a.createElement(ke,Object.assign({modalOpen:e.state.oversizeNotif},e.state.oversizeNotifProps)),e.state.image.map((function(t,a){return r.a.createElement("div",{className:"p-3 col-6"},r.a.createElement("div",{className:"card p-3",id:"photo-".concat(a),style:e.state.imageTest||0!==a?{borderColor:"rgba(0,0,0,.2)"}:{borderColor:"#dc3545"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("text",{className:"m-3 text-center"},0===a?"Main Image":"Product Image ".concat(a+1))),r.a.createElement("div",{className:"position-relative image-wrapper"},t.product_image?r.a.createElement("button",{type:"button",onClick:function(){return e.openDeleteImage(a)},className:"btn close-btn"},r.a.createElement(De.a,{color:"white",size:"1em"})):null,r.a.createElement("img",{className:"position-absolute img-fluid center-img",src:t.product_image?t.product_image:Te.a,alt:t.product_image?"".concat(Object.keys(t.product_image)[0],"_").concat(a):""})),r.a.createElement("label",{htmlFor:"product_image_".concat(a+1),className:"btn btn-outline-secondary rounded-pill"},r.a.createElement("span",null,"Select File"),r.a.createElement("input",{type:"file",accept:".jpg,.jpeg,.png",id:"product_image_".concat(a+1),name:"product_image_".concat(a+1),onChange:function(t){return e.onImageChange(t,a)},style:{display:"none"}}))),e.state.imageTest||0!==a?null:r.a.createElement(ve.a,{isOpen:!e.state.imageTest&&0===a,placement:"bottom",target:"photo-".concat(a)},"Main image should not be empty!"))}))),r.a.createElement("h3",{className:"text-success mt-2 mb-1"},"Product's Color"),r.a.createElement(je.b,{name:"detailArr",render:function(t){return r.a.createElement("div",null,l&&l.detailArr&&l.detailArr.length>0?r.a.createElement("div",null,r.a.createElement("div",{id:"item-detail"},l.detailArr.map((function(c,o){return r.a.createElement("div",{key:o},r.a.createElement(de.a,{form:!0},r.a.createElement(me.a,{md:4,xs:4},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"detailArr.".concat(o,".colorName")},"Color Name"),r.a.createElement(_e.a,{tag:je.a,id:"detailArr[".concat(o,"].colorName"),styles:e.selectStyle,error:Object(je.d)(n,"detailArr[".concat(o,"].colorName")),touched:Object(je.d)(a,"detailArr[".concat(o,"].colorName")),onChange:function(t){e.handleChangeColor(t,o,i)},options:e.state.colorOpt}),Object(je.d)(n,"detailArr[".concat(o,"].colorName"))?r.a.createElement("text",{className:"error-form"},n.detailArr[o].colorName):null)),r.a.createElement(me.a,{md:2,xs:1},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"detailArr".concat(o,"hex")},"Hex"),r.a.createElement(we,{id:"tooltip-".concat(o,"-hex"),setValues:i,name:"detailArr[".concat(o,"].hex"),value:l.detailArr[o].hex,error:Object(je.d)(n,"detailArr[".concat(o,"].hex")),touched:Object(je.d)(a,"detailArr[".concat(o,"].hex")),err:n,index:o}))),r.a.createElement(me.a,{md:3,xs:3},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"detailArr.".concat(o,".available")},l.detailArr[o].available?"Available":"Unavailable"),r.a.createElement(Oe.a,{type:"switch",tag:je.a,id:"detailArr.".concat(o,".available"),name:"detailArr[".concat(o,"].available"),checked:l.detailArr[o].available,onChange:s}))),l.detailArr.length>1?r.a.createElement(me.a,{md:2,xs:2},r.a.createElement(k.a,{className:"d-flex flex-column"},r.a.createElement(T.a,null,"Action"),r.a.createElement(C.a,{className:"rounded-pill",color:"danger",type:"button",onClick:function(){return e.openDeleteDetail(o,t)}},"Remove"))):null))})),r.a.createElement(C.a,{color:"success",outline:!0,type:"button",onClick:function(){return t.push(Object(N.a)({},e.itemDetailObj))}},"Add a color")),r.a.createElement(ve.a,{isOpen:!e.state.availableTest,placement:"top",target:"item-detail"},"At least one should be available!")):r.a.createElement(C.a,{color:"success",outline:!0,type:"button",onClick:function(){return t.push(Object(N.a)({},e.itemDetailObj))}},"Add a color"))}}),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(C.a,{color:"success",type:"submit",className:"rounded-pill"},"Submit"),r.a.createElement(Me,{modalOpen:e.props.admin.postItemPending})),r.a.createElement(ke,{modalOpen:e.state.imgDel,close:e.closeDeleteImage,confirm:e.handleDeleteImage}),r.a.createElement(ke,{modalOpen:e.state.notifDel,content:"Success delete image",title:"Success!",close:function(){e.setState({notifDel:!0})},confirm:function(){e.setState({notifDel:!0})}}),r.a.createElement(ke,{modalOpen:e.state.modalDelete,confirm:e.deleteDetail,close:e.closeDetailModal}),r.a.createElement(ke,Object.assign({modalOpen:e.state.notifPost},e.state.propsNotifCreate)))}))),r.a.createElement(ye.a,null,r.a.createElement(C.a,{color:"danger",onClick:this.handleClose,className:"rounded-pill"},"Close"))))}}]),a}(r.a.Component),Ge={addItem:Ce.addNewItem,getAllColors:Ce.getAllColors,getCategories:xe.getCategories,getCondition:Ce.getCondition,getAllItem:Ce.getAdminItems},Fe=Object(s.b)((function(e){return{auth:e.auth,admin:e.admin,query:e.admin.query,categories:e.category.allCategories,colors:e.admin.colors,condition:e.admin.condition}}),Ge)(Ue),qe=a(484),Be=a(485),He=a(486),ze=(a(454),function(e,t){return{type:"GET_NEW_ITEMS",payload:Z().get("/public/new?".concat(Se.a.stringify({page:e,limit:t})))}}),Ve=function(e){return{type:"GET_DETAIL_ITEM",payload:Z().get("/public/products/".concat(e))}},We=function(e){return{type:"SEARCH_ITEM",payload:Z().get("/public/products?".concat(Se.a.stringify(e)))}};function Ye(e){var t=e.adminPage,a=void 0!==t&&t,n=oe().md,c=Object(s.c)(),l=Object(p.g)(),o=Object(s.d)((function(e){return e.auth.isSeller})),i=Object(s.d)((function(e){return e.admin.query})),d=Object(s.d)((function(e){return e.searchQuery.query})),m=Object(s.d)((function(e){return e.admin.pageInfo})),u=Object(s.d)((function(e){return e.auth.token})),g=Object(s.d)((function(e){return e.items.searchPageInfo})),E=r.a.useState({}),f=Object(_.a)(E,2),h=f[0],b=f[1],v=r.a.useState(10),O=Object(_.a)(v,2),y=O[0],j=O[1],I=r.a.useState("/public/products?"),S=Object(_.a)(I,2),D=S[0],C=S[1],x=r.a.useState([]),P=Object(_.a)(x,2),A=P[0],T=P[1],k=r.a.useState({page:1,limit:10}),L=Object(_.a)(k,2),M=L[0],R=L[1],U=function(e){c(a?Ce.addQuery(e):ce(e))},G=function(){c(a?Ce.getAdminItems(u,M):We(M)),l.push({search:Se.a.stringify(M)})};r.a.useEffect((function(){R(a?i:d)}),[i,d]),r.a.useEffect((function(){console.log(a),C(a?"/items?":"/public/products?")}),[]),r.a.useEffect((function(){return G(),function(){return c(le())}}),[]),r.a.useEffect((function(){b(a&&o?m:g)}),[m,g,o]),r.a.useEffect((function(){G()}),[M]),r.a.useEffect((function(){var e={};e="-"===y?Object(N.a)(Object(N.a)({},M),{},{page:1,limit:y}):h.currentPage>Math.ceil(h.count/y)?Object(N.a)(Object(N.a)({},M),{},{page:Math.ceil(h.count/y),limit:y}):Object(N.a)(Object(N.a)({},M),{},{limit:y}),U(e)}),[y]),r.a.useEffect((function(){var e=Object(ge.a)(Array(h.pages).keys()).map((function(e){return e={value:e+=1,label:e}}));T(e)}),[h]);var q=function(e,t){t.preventDefault(),console.log(t.target.href),console.log(e),console.log(y);var a=Object(N.a)(Object(N.a)({},M),{},{page:e,limit:y});console.log("ini query dari pageKlik"),console.log(a),U(a)};return r.a.createElement(r.a.Fragment,null,Object.keys(h).length?r.a.createElement("div",{className:"my-3 d-flex align-items-center justify-content-center"},r.a.createElement("text",null,"Displaying"),r.a.createElement("div",{className:"limit-wrapper"},r.a.createElement(w.a,{type:"select",name:"limit",id:"limit",value:y,onChange:function(e){return j(e.target.value)}},r.a.createElement("option",{value:5,selected:!0},"5"),r.a.createElement("option",{value:10,selected:!0},"10"),r.a.createElement("option",{value:25,selected:!0},"25"),r.a.createElement("option",{value:"-",selected:!0},"All"))),r.a.createElement("text",null,"from"," ",Object.keys(h).length?"".concat(h.count," items"):"-")):null,r.a.createElement("div",{className:"my-3 row justify-content-center"},r.a.createElement("div",{className:"col-12 col-md-5 d-flex justify-content-".concat(n?"center":"end")},r.a.createElement(He.a,{"aria-label":"Page navigation",className:"d-flex align-items-center"},Object.keys(h).length?h.currentPage>1?r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,null,r.a.createElement(Be.a,{color:"success",first:!0,onClick:function(e){return q(1,e)},href:"".concat("http://localhost:8989"+D+Se.a.stringify(Object(N.a)(Object(N.a)({},M),{},{page:1})))})),r.a.createElement(qe.a,null,r.a.createElement(Be.a,{color:"success",previous:!0,onClick:function(e){return q(h.currentPage-1,e)},href:h.prefLink}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{disabled:!0},r.a.createElement(Be.a,{first:!0,href:"#"})),r.a.createElement(qe.a,{disabled:!0},r.a.createElement(Be.a,{previous:!0,href:"#"}))):null,Object.keys(h).length?function(){var e=[];if(Object.keys(h).length){var t=h.currentPage;console.log("change page");for(var a=t-2;a<=t+2;a++)e.push(a);e=e.map((function(e){return e=e<1||e>h.pages?["","#"]:[e,"".concat("http://localhost:8989"+D+Se.a.stringify(Object(N.a)(Object(N.a)({},M),{page:e})))]})),console.log(e)}else e=[];return e}().map((function(e,t){return e[0]===h.currentPage?r.a.createElement(qe.a,{key:t+1,active:!0},r.a.createElement(Be.a,{onClick:function(t){return q(e[0],t)},href:e[1]},e[0])):e[0]?r.a.createElement(qe.a,{key:t+1},r.a.createElement(Be.a,{onClick:function(t){return q(e[0],t)},href:e[1]},e[0])):r.a.createElement(qe.a,{key:t+1,disable:!0},r.a.createElement(Be.a,{href:e[1]},"\xa0"))})):null,function(){var e=null;return Object.keys(h).length&&(e=h.currentPage<h.pages?r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,null,r.a.createElement(Be.a,{next:!0,onClick:function(e){return q(h.currentPage+1,e)},href:h.nextLink})),r.a.createElement(qe.a,null,r.a.createElement(Be.a,{last:!0,onClick:function(e){return q(h.pages,e)},href:"".concat("http://localhost:8989"+D+Se.a.stringify(Object(N.a)(Object(N.a)({},M),{},{limit:y,page:h.pages})))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{disabled:!0},r.a.createElement(Be.a,{next:!0,href:"#"})),r.a.createElement(qe.a,{disabled:!0},r.a.createElement(Be.a,{last:!0,href:"#"})))),e}())),Object.keys(h).length?r.a.createElement("div",{className:"col-12 col-md-4 d-flex align-items-start justify-content-".concat(n?"center":"start")},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("text",null,"page"),r.a.createElement(F.a,{className:"page-select-wrapper",placeholder:"page",value:{value:h.currentPage,label:h.currentPage},options:A,onChange:function(e){var t=Object(N.a)(Object(N.a)({},M),{},{page:e.value});U(t)}}),r.a.createElement("text",null,"of ",h.pages))):null))}var Je=a(487);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ze=r.a.createElement("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),$e=r.a.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),Xe=function(e){var t=e.svgRef,a=e.title,n=Ke(e,["svgRef","title"]);return r.a.createElement("svg",Qe({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",ref:t},n),a?r.a.createElement("title",null,a):null,Ze,$e)},et=r.a.forwardRef((function(e,t){return r.a.createElement(Xe,Qe({svgRef:t},e))}));a.p;function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var nt=r.a.createElement("path",{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"}),rt=function(e){var t=e.svgRef,a=e.title,n=at(e,["svgRef","title"]);return r.a.createElement("svg",tt({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-funnel",fill:"currentColor",ref:t},n),a?r.a.createElement("title",null,a):null,nt)},ct=r.a.forwardRef((function(e,t){return r.a.createElement(rt,tt({svgRef:t},e))})),lt=(a.p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rp ",a=e?e.toString():"0",n=a.split(","),r=n[0].length%3,c=n[0].substr(0,r),l=n[0].substr(r).match(/\d{3}/gi);if(l){var s=r?".":"";c+=s+l.join(".")}return c=void 0!=n[1]?c+","+n[1]:c,void 0==t?c:c?t+c:""}),st=Ne.d().shape({name:Ne.f().required("Product name is required!").min(2,"Product name is too short"),price:Ne.c().min(1,"Price Cannot be zero!").required("Price is required!"),stock:Ne.c().required("Stock is required!"),categoryName:Ne.f().required("Category is required!"),description:Ne.f().required("Description is required!"),weight:Ne.c().min(1,"Weight cannot be zero!").required("Weight is required!"),condition_id:Ne.c().required("Insert your item's condition!"),detailArr:Ne.a().of(Ne.d().shape({colorName:Ne.f().required("Color name is required!").min(2,"Color name is too short"),hex:Ne.f().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i,"Input valid hex!").required("Color hex is required!"),available:Ne.b().required("Specify wether your item is available or not!")}))}),ot=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).itemDetailObj={id:0,colorName:"",hex:"",available:!0},n.selectStyle={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{borderColor:t.selectProps.error?"#7C4935":t.selectProps.touched?"#457373":"rgba(0,0,0,.2)"})}},n.openDeleteImage=function(e){n.setState({imgDel:!0,imgDelIndx:e})},n.openDeleteDetail=function(e,t,a){n.setState({idDetailDelete:e,arrayHelpers:a,indexSelected:t,modalDelete:!0})},n.handleDeleteImage=function(){var e=Object(ge.a)(n.state.image),t=e[n.state.imgDelIndx-1].fromDB;e[n.state.imgDelIndx-1]={product_image:"",name:"",file:void 0},t&&n.props.deleteImage(n.props.auth.token,n.props.item_id,n.state.imgDelIndx),n.setState({image:e,imgDel:!1})},n.closeDeleteImage=function(){n.setState({imgDel:!1})},n.deleteDetail=function(){n.props.deleteItemDetail(n.props.auth.token,n.props.item_id,n.state.idDetailDelete),n.state.arrayHelpers.remove(n.state.indexSelected),n.setState({modalDelete:!1})},n.openDelDetailModal=function(e,t){n.setState({arrayHelpers:t,indexSelected:e,modalDelete:!0})},n.closeDelDetailModal=function(){n.setState({modalDelete:!1})},n.handleChangeColor=function(e,t,a){var n=e.id,r=e.hex;a("detailArr[".concat(t,"].colorName"),e.value),a("detailArr[".concat(t,"].hex"),n&&r?r:"")},n.handleUpdate=function(e){var t=Object(N.a)({},e),a=!0;if(e.detailArr.forEach((function(e){a=e.available})),n.setState({availableTest:a}),console.log(a),console.log(e),a){var r=new FormData;console.log(n.state.image);var c,l=Object(pe.a)(n.state.image);try{for(l.s();!(c=l.n()).done;){var s=c.value;r.append("product_image",s.file);var o=s.file?s.name:"";r.append("imageOrder",o)}}catch(b){l.e(b)}finally{l.f()}var i,d=Object(pe.a)(r.values());try{for(d.s();!(i=d.n()).done;){var m=i.value;console.log(m)}}catch(b){d.e(b)}finally{d.f()}var u=t.detailArr.length?Se.a.stringify({detailArr:Object(ge.a)(t.detailArr)}):void 0;Object.assign(t,{detailArr:u});for(var p=0,g=Object.entries(t);p<g.length;p++){var E=Object(_.a)(g[p],2),f=E[0],h=E[1];r.append(f,h)}n.props.updateItem(n.props.auth.token,n.props.item_id,r)}},n.handleClose=function(e){e.preventDefault(),n.props.modalCloseUpdate("updt")},n.switchChange=function(e,t,a){a(t,!e)},n.onImageChange=function(e,t){if(e.target.files&&e.target.files[0]){var a=Object(ge.a)(n.state.image),r=Object(_.a)(e.target.files,1)[0];if(r.size>512e3)n.setState({oversizeNotif:!0});else{a[t]={product_image:URL.createObjectURL(r),name:"product_image_".concat(t+1),file:r},console.log(e.target.value),console.log(r);var c=0===t||n.state.imageTest;n.setState((function(e){return Object(N.a)(Object(N.a)({},e),{},{imageTest:c,image:a})}))}}},n.optionChange=function(e,t,a){t(a,e.value)},n.state={popUpMsg:"",categoryOpt:[],colorOpt:[],conditionOpt:[],conditionSelected:{value:""},item:{name:"",price:0,stock:0,description:"",weight:0},itemDetails:[Object(N.a)({},n.itemDetailObj)],category:{value:""},image:[{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0},{product_image:"",name:"",file:void 0}],availableTest:!0,imageTest:!0,arrayHelpers:[],idDetailDelete:null,indexSelected:null,modalDelete:!1,notifDel:!1,notifDetail:!1,notifUpdate:!1,oversizeNotif:!1,oversizeNotifProps:{title:"Warning!",content:"File should be less than 500 kb!",close:function(){n.setState({oversizeNotif:!1})},confirm:function(){n.setState({oversizeNotif:!1})}},propsNotifUpdate:{}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategories(),this.props.getAllColors(),this.props.getCondition(this.props.auth.token),this.props.item_id&&this.props.getThisItem(this.props.auth.token,this.props.item_id)}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.item_id!==this.props.item_id&&this.props.item_id&&this.props.getThisItem(this.props.auth.token,this.props.item_id),e.categories!==this.props.categories){var n=this.props.categories.map((function(e){return e={value:e.name,label:e.name,id:e.id}}));this.setState({categoryOpt:n}),console.log("update cateogriesOpt")}if(e.colors!==this.props.colors){var r=this.props.colors.map((function(e){return e={value:e.name,label:e.name,id:e.id,hex:e.hex}}));this.setState({colorOpt:r}),console.log("update colorOpt")}if(e.condition!==this.props.condition){var c=this.props.condition.map((function(e){return e={value:e.id,label:e.item_condition}}));this.setState({conditionOpt:c}),console.log("update colorOpt")}if(e.itemData!==this.props.itemData){console.log("update item data"),console.log(this.props.itemData);var l=this.props.itemData,s=l.item,o=l.category,i=l.itemDetails,d=[];Object.entries(s).forEach((function(e){var t=Object(_.a)(e,2),a=t[0],n=t[1];["product_image_1","product_image_2","product_image_3","product_image_4"].forEach((function(e){e===a&&d.push({product_image:n?"".concat("http://localhost:8989","/").concat(n):"",name:n?a:"",file:void 0,fromDB:!!n||void 0})}))})),i=i.length?i.map((function(e){return{id:e.id,colorName:e.name,hex:e.hex,available:e.available}})):[],o={value:o.name,label:o.name};var m={};this.state.conditionOpt.forEach((function(e){s.condition_id===e.value&&(m={value:e.value,label:e.label})})),this.setState({item:s,image:d,itemDetails:i,category:o,conditionSelected:m})}e.adminUpdate.updateItemPending!==this.props.adminUpdate.updateItemPending&&(this.props.adminUpdate.updateItemSuccess?(this.setState({propsNotifUpdate:{close:function(){a.setState({notifUpdate:!1})},confirm:function(){a.setState({notifUpdate:!1})},title:"Success!",content:"Success update item!"}}),this.setState({notifUpdate:!0}),this.props.getThisItem(this.props.auth.token,this.props.item_id),this.props.getAllItem(this.props.auth.token,this.props.query)):this.props.adminUpdate.updateItemError&&(this.setState({propsNotifUpdate:{close:function(){a.setState({notifUpdate:!1})},confirm:function(){a.setState({notifUpdate:!1})},title:"Error!",content:"Failed to update item!"}}),this.setState({notifUpdate:!0}),this.props.getThisItem(this.props.auth.token,this.props.item_id),this.props.getAllItem(this.props.auth.token,this.props.query))),e.adminDelete.deleteItemDetailPending!==this.props.adminDelete.deleteItemDetailPending&&this.props.admin.deleteItemDetailSuccess&&this.setState({notifDetail:!0}),e.adminDelete.deleteItemDetailPending!==this.props.adminDelete.deleteItemDetailPending&&this.props.admin.deleteItemDetailSuccess&&this.setState({notifDel:!0}),t.image!==this.state.image&&(console.log("ini image ketika rerender"),console.log(this.state.image))}},{key:"render",value:function(){var e=this,t=this.state,a=t.item,n=t.itemDetails,c=t.conditionSelected,l=t.category;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{isOpen:this.props.modalOpenUpdate,size:"lg"},r.a.createElement(Me,{modalOpen:this.props.admin.getItemDetailsPending}),r.a.createElement(fe.a,null,a.name),r.a.createElement(he.a,null,r.a.createElement(je.c,{enableReinitialize:!0,initialValues:{name:a.name,price:a.price,stock:a.stock,categoryName:l.value,description:a.description,weight:a.weight,condition_id:c.value,detailArr:Object(ge.a)(n)},validationSchema:st,validateOnBlur:!0,onSubmit:function(t){e.handleUpdate(t)}},(function(t){var a=t.touched,n=t.errors,s=t.handleSubmit,o=t.values,i=t.handleChange,d=t.handleBlur,m=t.setFieldValue;return r.a.createElement(x.a,{onSubmit:s},r.a.createElement("h3",{className:"text-success"},"Item Detail"),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"name"},"Item's name"),r.a.createElement(w.a,{tag:je.a,type:"text",name:"name",id:"name",value:o.name,onChange:i,onBlur:d,valid:!n.name&&a.name,invalid:n.name}),n.name||a.name?r.a.createElement(be.a,{invalid:!0},n.name):null),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:6,md:8},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"categoryName"},"Category"),r.a.createElement(_e.a,{tag:je.a,id:"categoryName",value:l,styles:e.selectStyle,error:n.categoryName,touched:o.categoryName,onChange:function(t){e.setState({category:t}),e.optionChange(t,m,"categoryName")},options:e.state.categoryOpt}),n.categoryName||a.categoryName?r.a.createElement("text",{className:"error-form"},n.categoryName):null)),r.a.createElement(me.a,{xs:6,md:4},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"condition_id"},"Condition"),r.a.createElement(F.a,{tag:je.a,id:"condition_id",value:c,styles:e.selectStyle,error:n.condition_id,touched:o.condition_id,onChange:function(t){e.setState({conditionSelected:t}),e.optionChange(t,m,"condition_id")},options:e.state.conditionOpt}),n.condition_id||a.condition_id?r.a.createElement("text",{className:"error-form"},n.condition_id):null))),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"price"},"Price"),r.a.createElement(P.a,null,r.a.createElement(A.a,{addonType:"prepend"},"Rp"),r.a.createElement(w.a,{tag:je.a,type:"number",name:"price",id:"price",value:o.price,onChange:i,onBlur:d,valid:!n.price&&a.price,invalid:n.price}),r.a.createElement(A.a,{addonType:"append"},".00")),n.price||a.price?r.a.createElement("text",{className:"error-form"},n.price):null),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"stock"},"Stock"),r.a.createElement(w.a,{tag:je.a,type:"number",name:"stock",id:"stock",value:o.stock,onChange:i,onBlur:d,valid:!n.stock&&a.stock,invalid:n.stock}),n.stock||a.stock?r.a.createElement(be.a,{invalid:!0},n.stock):null),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"weight"},"Weight"),r.a.createElement(P.a,null,r.a.createElement(w.a,{tag:je.a,type:"number",name:"weight",id:"weight",value:o.weight,onChange:i,onBlur:d,valid:!n.weight&&a.weight,invalid:n.weight}),r.a.createElement(A.a,{addonType:"append"},"gram")),n.weight||a.weight?r.a.createElement("text",{className:"error-form"},n.weight):null),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"description"},"Description"),r.a.createElement(w.a,{type:"textarea",name:"description",id:"description","aria-multiline":!0,value:o.description,onChange:i,onBlur:d,valid:!n.description&&a.description,invalid:n.description}),n.description||a.description?r.a.createElement(be.a,{invalid:!0},n.description):null),r.a.createElement("h3",{className:"text-success"},"Product Image"),r.a.createElement("div",{className:"row"},r.a.createElement(ke,Object.assign({modalOpen:e.state.oversizeNotif},e.state.oversizeNotifProps)),e.state.image.map((function(t,a){return r.a.createElement("div",{className:"p-3 col-6"},r.a.createElement("div",{className:"card p-3",id:"photo-".concat(a),style:e.state.imageTest||0!==a?{borderColor:"rgba(0,0,0,.2)"}:{borderColor:"#dc3545"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("text",{className:"m-3 text-center"},0===a?"Main Image":"Product Image ".concat(a+1))),r.a.createElement("div",{className:"position-relative image-wrapper"},t.product_image?r.a.createElement("button",{type:"button",onClick:function(){return e.openDeleteImage(a+1)},className:"btn close-btn"},r.a.createElement(De.a,{color:"white",size:"1em"})):null,r.a.createElement("img",{className:"position-absolute img-fluid center-img",src:t.product_image?t.product_image:Te.a,alt:t.name?t.name:"product_image_".concat(a+1)})),r.a.createElement("label",{htmlFor:"product_image_".concat(a+1),className:"btn btn-outline-secondary rounded-pill"},r.a.createElement("span",null,"Select File"),r.a.createElement("input",{type:"file",accept:".jpg,.jpeg,.png",id:"product_image_".concat(a+1),name:"product_image_".concat(a+1),onChange:function(t){return e.onImageChange(t,a)},style:{display:"none"}}))),e.state.imageTest||0!==a?null:r.a.createElement(ve.a,{isOpen:!e.state.imageTest&&0===a,placement:"bottom",target:"photo-".concat(a)},"Main image should not be empty!"))}))),r.a.createElement("h3",{id:"item-detail",className:"mt-3 mb-1 text-success"},"Item Color"),r.a.createElement(ve.a,{isOpen:!e.state.availableTest,placement:"top",target:"item-detail"},"At least one should be available!"),r.a.createElement(je.b,{name:"detailArr",render:function(t){return r.a.createElement("div",null,o&&o.detailArr&&o.detailArr.length>0?r.a.createElement("div",null,o.detailArr.map((function(c,l){return r.a.createElement("div",{key:l},r.a.createElement(de.a,{form:!0},r.a.createElement(me.a,{md:4,xs:4},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"detailArr.".concat(l,".colorName")},"Color Name"),r.a.createElement(_e.a,{tag:je.a,id:"detailArr[".concat(l,"].colorName"),styles:e.selectStyle,value:{value:o.detailArr[l].colorName,label:o.detailArr[l].colorName},error:Object(je.d)(n,"detailArr[".concat(l,"].colorName")),touched:Object(je.d)(a,"detailArr[".concat(l,"].colorName")),onChange:function(t){e.handleChangeColor(t,l,m)},options:e.state.colorOpt}),Object(je.d)(n,"detailArr[".concat(l,"].colorName"))?r.a.createElement("text",{className:"error-form"},n.detailArr[l].colorName):null)),r.a.createElement(me.a,{md:2,xs:1},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"detailArr".concat(l,"hex")},"Hex"),r.a.createElement(we,{id:"tooltip-".concat(l,"-hex"),setValues:m,name:"detailArr[".concat(l,"].hex"),value:o.detailArr[l].hex,error:Object(je.d)(n,"detailArr[".concat(l,"].hex")),touched:Object(je.d)(a,"detailArr[".concat(l,"].hex")),err:n,index:l}))),r.a.createElement(me.a,{md:3,xs:3},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"detailArr.".concat(l,".available")},o.detailArr[l].available?"Available":"Unavailable"),r.a.createElement(Oe.a,{type:"switch",tag:je.a,id:"detailArr.".concat(l,".available"),name:"detailArr[".concat(l,"].available"),checked:o.detailArr[l].available,onClick:function(){return e.switchChange(o.detailArr[l].available,"detailArr[".concat(l,"].available"),m)}}))),o.detailArr.length>1?r.a.createElement(me.a,{lg:2,md:2,xs:2,className:"d-flex align-items-center justify-content-center"},r.a.createElement(C.a,{name:"remove-".concat(l,"-action"),id:"remove-".concat(l,"-action"),className:"rounded-pill",color:"danger",type:"button",onClick:function(){return e.openDeleteDetail(c.id,l,t)}},"Remove")):null))})),r.a.createElement(C.a,{color:"success",outline:!0,type:"button",onClick:function(){return t.push(Object(N.a)({},e.itemDetailObj))}},"Add a color")):r.a.createElement(C.a,{color:"success",outline:!0,type:"button",onClick:function(){return t.push(Object(N.a)({},e.itemDetailObj))}},"Add a color"))}}),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(C.a,{color:"success",type:"submit",className:"rounded-pill"},"Update"),r.a.createElement(Me,{modalOpen:e.props.adminUpdate.updateItemPending})),r.a.createElement(ke,Object.assign({modalOpen:e.state.notifUpdate},e.state.propsNotifUpdate)),r.a.createElement(ke,{modalOpen:e.state.imgDel,close:e.closeDeleteImage,confirm:e.handleDeleteImage}),r.a.createElement(Me,{modalOpen:e.props.adminDelete.deleteImagePending}),r.a.createElement(ke,{modalOpen:e.state.notifDel,content:"Success delete image",title:"Success!",close:function(){e.setState({notifDel:!0})},confirm:function(){e.setState({notifDel:!0})}}),r.a.createElement(ke,{modalOpen:e.state.modalDelete,confirm:e.deleteDetail,close:function(){e.setState({modalDelete:!1})}}),r.a.createElement(Me,{modalOpen:e.props.adminDelete.deleteItemDetailPending}),r.a.createElement(ke,{modalOpen:e.state.notifDetail,confirm:function(){return e.setState({notifDetail:!1})},close:function(){return e.setState({notifDetail:!1})},title:"Success!",content:"Success delete item detail"}))}))),r.a.createElement(ye.a,null,r.a.createElement(C.a,{color:"danger",onClick:this.handleClose,className:"rounded-pill"},"Close"))))}}]),a}(r.a.Component),it={updateItem:Ce.updateItem,getAllColors:Ce.getAllColors,getCategories:xe.getCategories,getCondition:Ce.getCondition,getAllItem:Ce.getAdminItems,getThisItem:Ce.getItemDetails,deleteImage:Ce.deleteImage,deleteItemDetail:Ce.deleteDetailItem},dt=Object(s.b)((function(e){return{auth:e.auth,admin:e.admin,query:e.admin.query,categories:e.category.allCategories,colors:e.admin.colors,condition:e.admin.condition,itemData:e.admin.itemData,adminDelete:e.adminDelete,adminUpdate:e.adminUpdate}}),it)(ot),mt=function(){var e=oe();return r.a.createElement("text",{className:e.lg?"font-weight-bold":"font-weight-normal"},"+",e.lg?"":" Add New")},ut=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSearchSort=function(e){e.preventDefault();var t=n.state,a=t.before,r=t.after,c=n.state.search?{name:n.state.search}:void 0,l=Object.keys(n.state.sort).length?n.state.sort.value.sort:void 0,s={before:a,after:r},o=Object(N.a)(Object(N.a)({},n.props.query),{},{search:c,date:s,sort:l});n.props.addQuery(o)},n.handleDefault=function(){n.setState((function(e){return Object(N.a)(Object(N.a)({},e),e.defaultQuery)}))},n.getItemDetail=function(e){n.setState({selectedItemId:e,modalOpenUpdate:!0})},n.openDelete=function(e,t){n.setState({openModalDelete:!0,deleteId:e,deleteName:t})},n.state={sort:{value:{sort:{created_at:"DESC"}},label:"Terbaru"},search:"",before:"",after:"",defaultQuery:{sort:{value:{sort:{created_at:"DESC"}},label:"Terbaru"},search:"",before:"",after:""},applyBtn:!0,openModalDelete:!1,openSuccessDelete:!1,deleteId:null,deleteName:"",selectedItemId:null,openModalUpdate:!1,filterPopover:!1},n.topRef=r.a.createRef(),n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.adminDelete.deleteItemPending!==this.props.adminDelete.deleteItemPending&&this.props.adminDelete.deleteItemSuccess&&this.setState({openSuccessDelete:this.props.adminDelete.deleteItemSuccess})}},{key:"render",value:function(){var e=this,t=this.props.admin,a=t.pageInfo,n=this.props.sellerProducts;return r.a.createElement(j.a,null,r.a.createElement("div",{className:"d-flex my-3 align-items-start justify-content-around"},r.a.createElement(C.a,{onClick:function(){return e.props.openNew()},color:"success",className:"mr-3 rounded-pill"},r.a.createElement(mt,null)),r.a.createElement(x.a,{className:"w-75 align-items-center",onSubmit:this.handleSearchSort},r.a.createElement(k.a,null,r.a.createElement(P.a,null,r.a.createElement(w.a,{type:"name",name:"searchVal",id:"searchVal",style:{height:"2.5em"},value:this.state.search,onChange:function(t){e.setState({search:t.target.value})}}),r.a.createElement(A.a,{addonType:"append"},r.a.createElement(C.a,{color:"success",type:"submit"},r.a.createElement(et,null)),r.a.createElement(Me,{modalOpen:this.props.admin.getDataPending}))))),r.a.createElement(C.a,{className:"ml-2",outline:!0,onClick:function(){return e.setState((function(e){return{filterPopover:!e.filterPopover}}))},color:"success",name:"PopoverLegacy",id:"PopoverLegacy",style:{marginBottom:"1rem"}},r.a.createElement(ct,null)),r.a.createElement(Je.a,{toggle:function(){return e.setState((function(e){return{filterPopover:!e.filterPopover}}))},isOpen:this.state.filterPopover,placement:"bottom",target:"PopoverLegacy"},r.a.createElement("div",{className:"pt-2 px-2"},r.a.createElement(x.a,{onSubmit:this.handleSearchSort},r.a.createElement(T.a,{for:"sortKey"},"Sort by"),r.a.createElement(F.a,{id:"sortKey",className:"mb-4",value:this.state.sort,options:V.a,onChange:function(t){return e.setState({sort:t})}}),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"filterDateFrom"},"From Date"),r.a.createElement(w.a,{type:"date",name:"dateFromVal",id:"filterDateFrom",value:this.state.after,onChange:function(t){return e.setState({after:t.target.value})}})),r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"filterDateTo"},"To Date"),r.a.createElement(w.a,{type:"date",name:"dateToVal",id:"filterDateTo",value:this.state.before,onChange:function(t){return e.setState({before:t.target.value})}}),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement(C.a,{className:"rounded-pill my-3",color:"success",onClick:function(){return e.setState((function(e){return{filterPopover:!e.filterPopover}}))}},"Close"),r.a.createElement(C.a,{className:"rounded-pill my-3",outline:!0,color:"danger",onClick:this.handleDefault},"Abort All"))))))),r.a.createElement(de.a,{ref:this.topRef,xs:"2"},r.a.createElement(me.a,{className:"d-flex align-items-center justify-content-center border px-2 py-3",md:"2",xs:"3"},r.a.createElement("span",{className:"text-center"},"No.")),r.a.createElement(me.a,{className:"d-flex align-items-center justify-content-center border px-2 py-3",md:"3",xs:"3"},r.a.createElement("span",{className:"text-center"},"Item name")),r.a.createElement(me.a,{className:"d-flex align-items-center justify-content-center border px-2 py-3",md:"3",xs:"3"},r.a.createElement("span",{className:"text-center"},"Item price")),r.a.createElement(me.a,{className:"d-flex align-items-center justify-content-center border px-2 py-3",md:"4",xs:"3"},r.a.createElement("span",{className:"text-center"},"Action"))),Object.keys(n).length?0!==a.count?n.map((function(t,n){var c="-"===a.dataPerPage?n+1:n+1+a.dataPerPage*(a.currentPage-1);return r.a.createElement(de.a,{xs:"2"},r.a.createElement(me.a,{md:"2",xs:"3",className:"border d-flex align-items-center justify-content-center px-2 py-3"},r.a.createElement("span",{className:"text-center"},c)),r.a.createElement(me.a,{md:"3",xs:"3",className:"border d-flex align-items-center justify-content-center px-2 py-3"},r.a.createElement("span",{className:"text-center"},t.name)),r.a.createElement(me.a,{md:"3",xs:"3",className:"border d-flex align-items-center justify-content-center px-2 py-3"},r.a.createElement("span",{className:"text-center"},lt(t.price))),r.a.createElement(me.a,{md:"4",xs:"3",className:"border d-flex align-items-center justify-content-center px-2 py-3"},r.a.createElement(de.a,{className:"row justify-content-around"},r.a.createElement("div",{className:"col-md-4 d-flex align-items-center justify-content-center my-1",xs:"12"},r.a.createElement(C.a,{onClick:function(){return e.getItemDetail(t.id)},color:"success",className:"rounded-pill"},"Detail")),r.a.createElement("div",{className:"col-md-4 d-flex align-items-center justify-content-center my-1",xs:"12"},r.a.createElement(C.a,{onClick:function(){return e.openDelete(t.id,t.name)},color:"danger",className:"rounded-pill"},"Delete")))))})):r.a.createElement(j.a,{className:"d-flex align-items-center justify-content-center border px-2 py-3",md:"3",xs:"3"},r.a.createElement("span",{className:"text-center",color:"danger"},t.getDataMessage)):null,r.a.createElement(ke,{modalOpen:this.state.openModalDelete,confirm:function(){e.props.deleteItem(e.props.auth.token,e.state.deleteId),e.setState({openModalDelete:!1})},close:function(){e.setState({openModalDelete:!1})},content:"Are you sure want to delete ".concat(this.state.deleteName," from the list?"),title:"Confirm Deletion"}),r.a.createElement(Me,{modalOpen:this.props.adminDelete.deleteItemPending}),r.a.createElement(ke,{title:"Success!",modalOpen:this.state.openSuccessDelete,close:function(){e.props.getItemSeller(e.props.auth.token,e.props.query),e.setState({openSuccessDelete:!1})},confirm:function(){e.props.getItemSeller(e.props.auth.token,e.props.query),e.setState({openSuccessDelete:!1})},content:"Success Delete Item"}),r.a.createElement(dt,{modalOpenUpdate:this.state.modalOpenUpdate,item_id:this.state.selectedItemId,modalCloseUpdate:function(){e.props.getItemSeller(e.props.auth.token,e.props.query),e.setState({selectedItemId:null,modalOpenUpdate:!1})}}))}}]),a}(r.a.Component),pt={addItem:Ce.addNewItem,addQuery:Ce.addQuery,getItemSeller:Ce.getAdminItems,getItemDetail:Ce.getItemDetails,deleteItem:Ce.deleteItem},gt=Object(s.b)((function(e){return{auth:e.auth,admin:e.admin,sellerProducts:e.admin.sellerProducts,pageInfo:e.admin.pageInfo,query:e.admin.query,adminDelete:e.adminDelete}}),pt)(ut),Et=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).closeModal=function(){var e=Object(y.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"crt"===t&&n.setState({modalOpenNew:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={modalOpenNew:!1,pageInfo:{count:null,pages:null,limitPerPage:5,currentPage:1,nextLink:"",prefLink:""},allCategories:[]},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;console.log("render parent");var t=this.state,a=t.pageInfo,n=t.allCategories;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(j.a,{className:"my-3"},r.a.createElement("h1",{className:"my-3"},"Items on Tuku"),r.a.createElement(gt,{openNew:function(){return e.setState({modalOpenNew:!0})},openDetail:function(t){return e.openModalUpdate(t)}}),r.a.createElement(Ye,{adminPage:!0})),r.a.createElement(ue,null),r.a.createElement(Fe,{modalOpenNew:this.state.modalOpenNew,categories:n,modalCloseNew:function(){var t=Object(y.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.closeModal(a));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))}}]),a}(r.a.Component),ft={getAllItems:Ce.getAdminItems,getThisItem:Ce.getItemDetails},ht=Object(s.b)((function(e){return{auth:e.auth,admin:e.admin,getItemDetailsPending:e.admin.getItemDetailsPending,query:e.admin.query}}),ft)(Et),bt=a(262),vt=a(488),Ot=a(489),yt=a(490),jt=a(491),Nt=a(260),_t=a.n(Nt),It=a(261),St=a.n(It),Dt=(a(244),[{key:0,src:_t.a,altText:"Trending 2020",caption:"Trending 2020"},{key:1,src:St.a,altText:"All new items",caption:"All new items"}]);function Ct(e){var t=Object(n.useState)(0),a=Object(_.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(_.a)(s,2),i=o[0],d=o[1],m=function(){if(!i){var e=c===Dt.length-1?0:c+1;l(e)}},u=function(){if(!i){var e=0===c?Dt.length-1:c-1;l(e)}},p=Dt.map((function(e){return r.a.createElement(bt.a,{className:"container-image",onExiting:function(){return d(!0)},onExited:function(){return d(!1)},key:e.key},r.a.createElement("img",{className:"img-carousel",src:e.src,alt:e.altText}),r.a.createElement(vt.a,{className:"caption-carousel",captionHeader:e.caption}))}));return r.a.createElement(Ot.a,{className:"carousel",activeIndex:c,next:m,previous:u},r.a.createElement(yt.a,{items:Dt,activeIndex:c,onClickHandler:function(e){i||l(e)}}),p,r.a.createElement(jt.a,{direction:"prev",directionText:"Previous",onClickHandler:u}),r.a.createElement(jt.a,{direction:"next",directionText:"Next",onClickHandler:m}))}var xt=a(492),Pt=a(493),wt=a(79);var At=function(e){var t=e.count,a=void 0===t?5:t,n=e.inactiveColor,c=void 0===n?"#ddd":n,l=e.activeColor,s=void 0===l?"#f8ce0b":l,o=e.size,i=void 0===o?"1em":o,d=e.margin,m=void 0===d?0:d,u=e.rating,p=void 0===u?3.5:u,g=Object(ge.a)(Array(a)).map((function(){return r.a.createElement(wt.c,{size:i,style:{margin:"0 ".concat(m," 0 ").concat(m),color:c}})})),E=Object(ge.a)(Array(a)).map((function(){return r.a.createElement(wt.c,{size:i,style:{margin:"0 ".concat(m," 0 ").concat(m),color:s}})})),f={top:0,left:0,whiteSpace:"nowrap",overflow:"hidden",width:p="".concat(Math.round(p/a*100),"%")};return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"inline-block"},className:"position-relative"},g,r.a.createElement("div",{style:f,className:"position-absolute"},E)))};a(455);function Tt(e){var t=e.product;return r.a.createElement(me.a,{xs:"6",sm:"4",md:"3",lg:"2",className:"p-2"},r.a.createElement(u.b,{to:"/product/".concat(t.id),style:{textDecoration:"none",color:"black"}},r.a.createElement("div",{className:"card-wrapper shadow pt-0 pb-1"},r.a.createElement("div",{className:"position-relative image-wrapper"},r.a.createElement(xt.a,{className:"position-absolute image-product",top:!0,width:"100%",src:t.product_image_1?"".concat("http://localhost:8989","/").concat(t.product_image_1):Te.a,alt:"Product image"})),r.a.createElement(j.a,{className:"my-3"},r.a.createElement("div",{style:{overflow:"hidden",width:"100%",lineHeight:"1.3em",height:"2.5em",marginBottom:"1em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflowWrap:"break-word",textOverflow:"ellipsis",fontWeight:"bold"}},t.name),r.a.createElement(Pt.a,null,r.a.createElement("strong",{color:"success"},lt(t.price))),r.a.createElement(Pt.a,{style:{overflow:"hidden",whiteSpace:"nowrap",fontSize:"0.75em",overflowWrap:"break-word",textOverflow:"ellipsis",margin:"0.5em 0 0.5em 0"},className:"text-muted"},t.store_name||"Tuku Store"),r.a.createElement(Pt.a,{className:"d-flex"},r.a.createElement("span",null,r.a.createElement(At,{rating:t.rating})),r.a.createElement("span",{className:"ml-1 text-muted"},"(",t.ratingCount||0,")"))))))}var kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return{type:"GET_NEW",payload:Z().get("/public/new?".concat(Se.a.stringify({page:e,limit:t})))}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return{type:"GET_POPULAR",payload:Z().get("/public/popular?".concat(Se.a.stringify({page:e,limit:t})))}};function Mt(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.home.newData})),a=Object(s.d)((function(e){return e.home.popularData}));return r.a.useEffect((function(){e(kt()),e(Lt())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(j.a,null,r.a.createElement(Ct,null),r.a.createElement("div",{className:"h3"},"New"),r.a.createElement("div",{className:"text-muted"},"You've never seen it before"),r.a.createElement(de.a,{className:"justify-content-md-center mt-3 mb-5"},t.length?t.map((function(e){return r.a.createElement(Tt,{product:e})})):null),r.a.createElement("div",{className:"h3"},"Popular"),r.a.createElement("div",{className:"text-muted"},"Find clothes that are trending recently"),r.a.createElement(de.a,{className:"justify-content-md-center mt-3 mb-5"},a.length?a.map((function(e){return r.a.createElement(Tt,{product:e})})):null)))}var Rt=a(143),Ut=a(494),Gt=a(495);function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Bt=r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("path",{d:"M42.9058 45.4667L40.3683 16.7167C40.1777 14.551 38.3933 12.9167 36.2183 12.9167C35.7186 12.9167 35.3121 13.3229 35.3121 13.8229V18.3052C35.3121 18.7489 34.9767 19.1364 34.534 19.1646C34.0485 19.1958 33.6454 18.8114 33.6454 18.3333V8.64582C33.6454 3.87811 29.7673 -1.52588e-05 24.9996 -1.52588e-05C20.2319 -1.52588e-05 16.3537 3.87811 16.3537 8.64582V12.9167H13.7808C11.6058 12.9167 9.82146 14.551 9.63083 16.7167L7.09333 45.4667C6.87979 47.8963 8.79573 50 11.2444 50H38.7548C41.2038 50 43.1194 47.896 42.9058 45.4667ZM20.2079 44.4792H14.1662C13.706 44.4792 13.3329 44.106 13.3329 43.6458C13.3329 43.1856 13.706 42.8125 14.1662 42.8125H20.2079C20.6681 42.8125 21.0412 43.1856 21.0412 43.6458C21.0412 44.106 20.6681 44.4792 20.2079 44.4792ZM20.2079 40.3125H14.1662C13.706 40.3125 13.3329 39.9394 13.3329 39.4792C13.3329 39.0189 13.706 38.6458 14.1662 38.6458H20.2079C20.6681 38.6458 21.0412 39.0189 21.0412 39.4792C21.0412 39.9394 20.6681 40.3125 20.2079 40.3125ZM31.9787 12.9167H20.5933C20.0933 12.9167 19.6871 13.3229 19.6871 13.8229V18.3052C19.6871 18.7489 19.3517 19.1364 18.909 19.1646C18.4235 19.1958 18.0204 18.8114 18.0204 18.3333V8.64582C18.0204 4.7979 21.1517 1.66665 24.9996 1.66665C28.8475 1.66665 31.9787 4.7979 31.9787 8.64582V12.9167Z",fill:"#457373"})),Ht=r.a.createElement("path",{d:"M56.888 38H61.032V22.488H67.024V18.764H50.896V22.488H56.888V38ZM79.2788 23.524V32.176L79.2508 32.092C79.2508 33.66 77.9348 34.892 76.2268 34.892C74.6028 34.892 73.4828 33.66 73.4828 31.868V23.524H69.5348V32.736C69.5348 36.012 71.7748 38.336 74.9108 38.336C76.7868 38.336 78.4108 37.496 79.2788 36.18V38H83.3668V23.524H79.2788ZM100.958 23.524H96.254L90.878 29.768V18.428H86.79V38H90.878V34.444L92.614 32.568L96.198 38H100.902L95.33 29.936L100.958 23.524ZM112.474 23.524V32.176L112.446 32.092C112.446 33.66 111.13 34.892 109.422 34.892C107.798 34.892 106.678 33.66 106.678 31.868V23.524H102.73V32.736C102.73 36.012 104.97 38.336 108.106 38.336C109.982 38.336 111.606 37.496 112.474 36.18V38H116.562V23.524H112.474Z",fill:"#457373"}),zt=r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:50,height:50,fill:"white"}))),Vt=function(e){var t=e.svgRef,a=e.title,n=qt(e,["svgRef","title"]);return r.a.createElement("svg",Ft({width:119,height:50,viewBox:"0 0 119 50",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,Bt,Ht,zt)},Wt=r.a.forwardRef((function(e,t){return r.a.createElement(Vt,Ft({svgRef:t},e))})),Yt=(a.p,{createUser:function(e,t){return{type:"AUTH_USER_SIGNUP",payload:Z().post("/auth/signup/".concat(t),e)}},clearState:function(){return{type:"CLEAR_STATE"}}}),Jt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",params:"customer",custBtn:!1,sellerBtn:!0,signUpAlert:!1},e.login=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password,c=a.params,l={email:n,password:r};e.props.login(l,c)},e.onChangeText=function(t){e.setState(Object(Rt.a)({},t.target.name,t.target.value))},e.toggleRole=function(t,a){a.preventDefault(),"customer"===t?e.setState({params:t,custBtn:!1,sellerBtn:!0}):"seller"===t&&e.setState({params:t,custBtn:!0,sellerBtn:!1})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.signUpAlert&&setTimeout((function(){e.setState({signUpAlert:!1})}),3e3)}},{key:"componentDidUpdate",value:function(){var e=this;console.log(this.state);var t=this.props.location.state,a=t?t.from.pathname:"/";this.props.auth.isLogin&&this.props.history.push(a),this.state.signUpAlert&&setTimeout((function(){e.setState({signUpAlert:!1})}),3e3)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.signup;return r.a.createElement(r.a.Fragment,{style:{height:"100vh"},className:"position-relative"},r.a.createElement(j.a,{style:{width:400,top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"},className:"position-absolute"},r.a.createElement("div",{className:"d-flex align-items-center flex-column"},r.a.createElement(Wt,null),r.a.createElement("div",{className:"text-center my-4 h6"},"Please Log in with your Account")),r.a.createElement("div",{className:"d-flex align-items-center flex-column"},r.a.createElement(Ut.a,{className:"mx-auto my-4"},r.a.createElement(C.a,{style:{width:100},color:"success",outline:this.state.custBtn,onClick:function(t){return e.toggleRole("customer",t)}},"Customer"),r.a.createElement(C.a,{style:{width:100},color:"success",outline:this.state.sellerBtn,onClick:function(t){return e.toggleRole("seller",t)}},"Seller"))),r.a.createElement(Gt.a,{color:a.isError?"danger":"success",isOpen:a.isError||""!==a.alertMsg},a.alertMsg),r.a.createElement(Gt.a,{color:n.isError?"danger":"success",isOpen:this.state.signUpAlert},n.alertMsg),r.a.createElement(x.a,{onSubmit:this.login},r.a.createElement(k.a,{className:"mt-2"},r.a.createElement(w.a,{value:this.state.email,onChange:this.onChangeText,type:"email",name:"email",id:"email",placeholder:"Email"})),r.a.createElement(k.a,{className:"mt-2"},r.a.createElement(w.a,{value:this.state.password,onChange:this.onChangeText,type:"password",name:"password",id:"password",placeholder:"Password"})),r.a.createElement("div",{className:"text-right"},r.a.createElement(u.b,{to:"/",className:"ml-auto"},"Forgot Password")),r.a.createElement(C.a,{type:"submit",className:"mt-2 rounded-pill",block:!0,color:"success"},"Login")),r.a.createElement("div",{className:"text-center my-3"},"Don&quotes;t have a Tuku account?"," ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/signup"},"Register!")))))}}]),a}(n.Component),Qt={login:ae.login,clearState:Yt.clearState},Kt=Object(s.b)((function(e){return{auth:e.auth,signup:e.signup}}),Qt)(Jt);a(456);function Zt(e){var t=e.openModal,a=void 0===t||t,n=e.bgTransparent,c=void 0!==n&&n;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c?"loading-background":"loading-background-transparent"},r.a.createElement("div",{className:"loading-indicator"},r.a.createElement(Le.a,{color:"#457373"})))):null}var $t=Ne.d().shape({name:Ne.f().required("Name is required!.").min(1,"Name is too short."),email:Ne.f().email("Input the right format!").required("Email is Required."),password:Ne.f().required("Input your password!").min(8,"Password is too short - should be 8 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number.")}),Xt=Ne.d().shape({name:Ne.f().required("Name is required!.").min(1,"Name is too short."),email:Ne.f().email("Input the right format!").required("Email is Required."),password:Ne.f().required("Input your password!").min(8,"Password is too short - should be 8 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number."),phone:Ne.f().required("Phone must be provided!").matches(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i,"Input right phone number format!"),storeName:Ne.f().required("Store Name is required!.").min(1,"Store Name is too short.")}),ea=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleRole=function(e,t){console.log(e),t.preventDefault(),"customer"===e?n.setState({params:e,custBtn:!1,sellerBtn:!0}):"seller"===e&&n.setState({params:e,custBtn:!0,sellerBtn:!1})},n.signupHandler=function(e){var t=e.email,a=e.password,r=e.name,c=e.phone,l=e.storeName,s=n.state.params;console.log(s);var o={};"customer"===s?o={name:r,email:t,password:a}:"seller"===s&&(o={name:r,email:t,password:a,store_name:l,phone:c}),n.props.createUser(o,s)},n.state={params:"customer",custBtn:!1,sellerBtn:!0},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){console.log(this.state.params),e.signup.isError!==this.props.signup.isError&&this.props.signup.isError&&(alert(this.props.signup.alertMsg),this.props.clearState()),this.props.signup.userIsCreated&&(alert("sign up successful!"),this.props.signup.userIsCreated&&this.props.history.push("/login"))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,{style:{height:"100vh",position:"relative"},className:"position-relative"},this.props.signup.isLoading?r.a.createElement(Zt,null):null,r.a.createElement(j.a,{style:{width:400,top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"},className:"position-absolute"},r.a.createElement("div",{className:"d-flex align-items-center flex-column"},r.a.createElement(Wt,{style:{marginTop:400},className:"mt-5"}),r.a.createElement("div",{className:"text-center my-4 h6"},"Please Log in with your Account")),r.a.createElement("div",{className:"d-flex align-items-center flex-column"},r.a.createElement(Ut.a,{className:"mx-auto my-4"},r.a.createElement(C.a,{style:{width:100},color:"success",outline:this.state.custBtn,onClick:function(t){return e.toggleRole("customer",t)}},"Customer"),r.a.createElement(C.a,{style:{width:100},color:"success",outline:this.state.sellerBtn,onClick:function(t){return e.toggleRole("seller",t)}},"Seller"))),r.a.createElement(je.c,{initialValues:"seller"===this.state.params?{name:"",email:"",password:"",phone:"",storeName:""}:{name:"",email:"",password:""},validationSchema:"seller"===this.state.params?Xt:$t,validateOnBlur:!0,onSubmit:function(t){console.log(t),e.signupHandler(t)}},(function(t){var a=t.touched,n=t.errors,c=t.handleSubmit,l=t.values,s=t.handleChange,o=t.handleBlur;return r.a.createElement(x.a,null,r.a.createElement(k.a,{className:"mt-1"},r.a.createElement(w.a,{tag:je.a,value:l.name,onChange:s,type:"name",name:"name",id:"name",placeholder:"Name",onBlur:o}),n.name||a.name?r.a.createElement("div",{className:"error-form"},n.name):null),r.a.createElement(k.a,{className:"mt-1"},r.a.createElement(w.a,{tag:je.a,value:l.email,onChange:s,onBlir:o,type:"email",name:"email",id:"email",placeholder:"Email"}),n.email||a.email?r.a.createElement("div",{className:"error-form"},n.email):null),e.state.sellerBtn?null:r.a.createElement("div",null,r.a.createElement(k.a,{className:"mt-1"},r.a.createElement(w.a,{tag:je.a,value:l.phone,onChange:s,onBlur:o,type:"name",name:"phone",id:"phone",placeholder:"Phone Number"}),n.phone||a.phone?r.a.createElement("div",{className:"error-form"},n.phone):null),r.a.createElement(k.a,{className:"mt-1"},r.a.createElement(w.a,{tag:je.a,value:l.storeName,onChange:s,onBlur:o,type:"name",name:"storeName",id:"storeName",placeholder:"Store Name"}),n.storeName||a.storeName?r.a.createElement("div",{className:"error-form"},n.storeName):null)),r.a.createElement(k.a,{className:"mt-1"},r.a.createElement(w.a,{tag:je.a,value:l.password,onChange:s,onBlur:o,type:"password",name:"password",id:"password",placeholder:"Password"}),n.password||a.password?r.a.createElement("div",{className:"error-form"},n.password):null),r.a.createElement("div",{className:"text-right"},r.a.createElement(u.b,{to:"/",className:"ml-auto"},"Forgot Password")),r.a.createElement(C.a,{onClick:c,type:"submit",className:"mt-2 rounded-pill",block:!0,color:"success"},"Register"))})),r.a.createElement("div",{className:"text-center my-3"},"Already have Tuku account?"," ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/login"},"Login!")))))}}]),a}(n.Component),ta={createUser:Yt.createUser,clearState:Yt.clearState},aa=Object(s.b)((function(e){return{signup:e.signup}}),ta)(ea),na=a(496),ra=a(263),ca=a(87),la=a.n(ca),sa=(a(457),function(e,t){return{type:"CHANGE_PASSWORD",payload:Z(e).post("/users/password",Se.a.stringify(t))}}),oa=function(){return{type:"CLEAR_STATE_PASS"}},ia=Ne.d().shape({oldPassword:Ne.f().required("Enter your recent password!"),newPassword:Ne.f().required("New Password must be provided!").min(8,"Password is too short - should be 8 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number."),confirmNewPassword:Ne.f().oneOf([Ne.e("newPassword"),null],"Passwords must match").required("Enter your confirmation password!")});function da(e){var t=e.md,a=Object(s.c)(),n=Object(s.d)((function(e){return e.password.passwordUpdated})),c=Object(s.d)((function(e){return e.password.passwordError})),l=Object(s.d)((function(e){return e.password.passwordPending})),o=Object(s.d)((function(e){return e.password.passwordMessage})),i=Object(s.d)((function(e){return e.auth.token})),d=r.a.useState(!1),m=Object(_.a)(d,2),u=m[0],p=m[1],g=r.a.useState({}),E=Object(_.a)(g,2),f=E[0],h=E[1],b=r.a.useState({reset:function(){}}),v=Object(_.a)(b,2),O=v[0],y=v[1];r.a.useEffect((function(){return n&&(h({title:"Success!",content:"Success update password!",close:function(){return p(!1)},confirm:function(){return p(!1)}}),p(!0),O.reset()),function(){return a(oa())}}),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mt-4 mb-2"},"Password"),r.a.createElement(je.c,{initialValues:{oldPassword:"",confirmNewPassword:"",newPassword:""},validationSchema:ia,validateOnBlur:!0,onSubmit:function(e,t){var n,r=t.resetForm;n=r,a(sa(i,e)),y({reset:function(){return n()}})}},(function(e){var a=e.touched,n=e.errors,s=e.handleSubmit,i=e.values,d=e.handleChange,m=e.handleBlur;return r.a.createElement(x.a,{onSubmit:s},r.a.createElement(me.a,{xs:"12",md:"8",className:"mb-3"},r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:t?"text-left":"text-right",for:"name",sm:3},"Current password"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"password",name:"oldPassword",id:"oldPassword",placeholder:"Current Password",value:i.oldPassword,onChange:d,onBlur:m,invalid:n.oldPassword||c}),n.oldPassword||a.oldPassword?r.a.createElement(be.a,{invalid:!0},n.oldPassword):null)),r.a.createElement(k.a,{row:!0,className:"mt-5"},r.a.createElement(T.a,{className:t?"text-left":"text-right",for:"name",sm:3},"New password"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"password",name:"newPassword",id:"newPassword",placeholder:"New Password",value:i.newPassword,onChange:d,onBlur:m,valid:!n.newPassword&&a.newPassword,invalid:n.newPassword||c}),n.newPassword||a.newPassword?r.a.createElement(be.a,{invalid:!0},n.newPassword):null)),r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:t?"text-left":"text-right",for:"name",sm:3},"Confirm New password"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"password",name:"confirmNewPassword",id:"confirmNewPassword",placeholder:"Confirm Password",value:i.confirmNewPassword,onChange:d,onBlur:m,valid:!n.confirmNewPassword&&a.confirmNewPassword,invalid:n.confirmNewPassword||c}),n.confirmNewPassword||a.confirmNewPassword?r.a.createElement(be.a,{invalid:!0},n.confirmNewPassword):null))),r.a.createElement(me.a,{xs:"12",md:"8",className:"mb-3"},r.a.createElement(k.a,{row:!0},r.a.createElement(me.a,{md:{size:9,offset:3},sm:12,className:t?"d-flex align-items-center justify-content-center":""},r.a.createElement(C.a,{color:"success",type:"submit",className:"rounded-pill"},"Change Password")),c?r.a.createElement(me.a,{md:{size:9,offset:3},sm:12,className:t?"d-flex align-items-center justify-content-center":""},r.a.createElement("text",{className:"error-form"},o)):null),r.a.createElement(Me,{modalOpen:l}),r.a.createElement(ke,Object.assign({modalOpen:u},f))))})))}var ma=Ne.d().shape({name:Ne.f("Input the right value!").min(2,"Name is too short!").nullable(),email:Ne.f("Input the right value!").email("Input valid email!").nullable(),phone:Ne.f("Input the right value!").matches(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i,"Input right phone number format!").nullable(),gender:Ne.f("Select one of the option below").nullable().test("gender-test","Choose the right gender role!",(function(e){return e="Male"===e||"Female"===e})).nullable(),birthdate:Ne.f().test("birthday-test","Birthday should be a valid date!",(function(e){return la()(e).isSameOrBefore(new Date)})).transform((function(e,t){return la()(t).format("YYYY-MM-DD")})).nullable()}),ua=Ne.d().shape({name:Ne.f("Input the right value!").min(2,"Name is too short!").nullable(),email:Ne.f("Input the right value!").email("Input valid email!").nullable(),phone:Ne.f("Input the right value!").matches(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i,"Input right phone number format!").nullable(),gender:Ne.f("Select one of the option below").test("gender-test","Choose the right gender role!",(function(e){return e="Male"===e||"Female"===e})).nullable(),birthdate:Ne.f().test("birthday-test","Birthday should be a valid date!",(function(e){return la()(e).isSameOrBefore(new Date)})).transform((function(e,t){return la()(t).format("YYYY-MM-DD")})).nullable(),store_name:Ne.f("Input the right value!").min(2,"Name is too short!"),store_description:Ne.f("Input the right value!").min(2,"Description is too short!").nullable()});function pa(){var e=oe().md,t=Object(s.d)((function(e){return e.auth.token})),a=Object(s.d)((function(e){return e.profile.userData})),c=Object(s.d)((function(e){return e.profile})),l=Object(s.d)((function(e){return e.profile.isUpdated})),o=Object(s.d)((function(e){return e.auth.isSeller})),i=Object(s.c)(),d=Object(n.useState)({uriAvatar:re.a,file:{}}),m=Object(_.a)(d,2),u=m[0],p=m[1],g=Object(n.useState)(!1),E=Object(_.a)(g,2),f=E[0],h=E[1],b=Object(n.useState)({}),v=Object(_.a)(b,2),O=v[0],y=v[1],j=Object(n.useState)(!1),N=Object(_.a)(j,2),I=N[0],S=N[1],D=Object(n.useState)({}),P=Object(_.a)(D,2),A=P[0],L=P[1],M=Object(n.useState)(!1),R=Object(_.a)(M,2),U=R[0],G=R[1],F=Object(n.useState)({}),q=Object(_.a)(F,2),B=q[0],H=q[1];Object(n.useEffect)((function(){return i($(t)),function(){return i(te())}}),[t]),Object(n.useEffect)((function(){l?(i($(t)),y({title:"Success!",content:"Success update profile!",close:function(){return h(!1)},confirm:function(){return h(!1)}}),h(!0)):c.isError&&(y({title:"Failed!",content:"Failed to update profile!",close:function(){return h(!1)},confirm:function(){return h(!1)}}),h(!0))}),[c.isPending]),Object(n.useEffect)((function(){p({uriAvatar:a.avatar?"".concat("http://localhost:8989","/").concat(a.avatar):re.a,fromDB:!0,file:{}})}),[a]),Object(n.useEffect)((function(){c.deleteAvaSuccess?(i($(t)),H({title:"Success!",content:"Success delete avatar!",close:function(){return G(!1)},confirm:function(){return G(!1)}}),G(!0)):c.deleteAvaError&&(H({title:"Fail!",content:"Delete avatar error!",close:function(){return G(!1)},confirm:function(){return G(!1)}}),G(!0))}),[c.deleteAvaPending]);var z=function(e){if(e.target.files&&e.target.files[0]){var t=Object(_.a)(e.target.files,1)[0];t.size>512e3?(L({title:"Warning!",content:"Avatar size can not be more than 5 MB!",close:function(){return S(!1)},confirm:function(){return S(!1)}}),S(!0)):p({uriAvatar:URL.createObjectURL(t),file:t})}},V=function(e){e.preventDefault(),H({title:"Warning!",content:"Are you sure want to delete your avatar?",close:function(){return G(!1)},confirm:function(){return u.fromDB&&i(ee(t)),console.log("masuk delete avatar"),p({uriAvatar:re.a,file:{}}),G(!1),void console.log("close notif delete ava")}}),G(!0)},W={name:a.name,email:a.email,phone:a.phone,gender:a.gender,birthdate:la()(a.birthdate).format("YYYY-MM-DD"),store_name:a.store_name,store_description:a.store_description},Y={name:a.name,email:a.email,phone:a.phone,gender:a.gender,birthdate:a.birthdate};return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.c,{enableReinitialize:!0,initialValues:o?W:Y,validationSchema:o?ua:ma,validateOnBlur:!0,onSubmit:function(e){!function(e){console.log("change save"),console.log(e);var a=new FormData;a.append("avatar",u.file);for(var n=0,r=Object.entries(e);n<r.length;n++){var c=Object(_.a)(r[n],2),l=c[0],s=c[1];s&&a.append(l,s)}i(X(t,a))}(e)}},(function(t){var a=t.touched,n=t.errors,l=t.handleSubmit,s=t.values,i=t.handleChange,d=t.handleBlur,m=t.setFieldValue;return r.a.createElement(x.a,{className:"my-3",onSubmit:l},r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",md:"8",className:"mb-3"},r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:e?"text-left":"text-right",for:"name",sm:3,xs:12},"Name"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"name",name:"name",id:"name",placeholder:"Name",value:s.name,onChange:i,onBlur:d,valid:!n.name&&a.name,invalid:n.name}),n.name||a.name?r.a.createElement(be.a,{invalid:!0},n.name):null)),r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:e?"text-left":"text-right",for:"email",sm:3,xs:12},"Email"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"email",name:"email",id:"email",placeholder:"Email",value:s.email,onChange:i,onBlur:d,valid:!n.email&&a.email,invalid:n.email}),n.email||a.email?r.a.createElement(be.a,{invalid:!0},n.email):null)),r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:e?"text-left":"text-right",for:"phone",sm:3,xs:12},"Phone Number"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"number",name:"phone",id:"phone",placeholder:"Phone Number",value:s.phone,onChange:i,onBlur:d,valid:!n.phone&&a.phone,invalid:n.phone}),n.phone||a.phone?r.a.createElement(be.a,{invalid:!0},n.phone):null)),r.a.createElement(k.a,{tag:"fieldset",row:!0},r.a.createElement(me.a,{sm:3,xs:12,className:e?"text-left":"text-right"},"Gender"),r.a.createElement(me.a,{sm:9,className:"d-flex"},["Male","Female"].map((function(e,t){return r.a.createElement(k.a,{className:t>0&&"ml-4",check:!0},r.a.createElement(T.a,{check:!0},r.a.createElement(w.a,{type:"radio",name:"gender",id:"gender".concat(e),value:e,checked:e===s.gender,onChange:function(e){return m("gender",e.target.value)}}),r.a.createElement("span",null,e)))}))),r.a.createElement(me.a,{sm:{size:9,offset:3},xs:12},n.gender||a.gender?r.a.createElement("text",{className:"error-form"},n.gender):null)),r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:e?"text-left":"text-right",for:"birthdate",sm:3,xs:12},"Date of birth"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"date",name:"birthdate",id:"birthdate",placeholder:"Date of birth",value:la()(s.birthdate).format("YYYY-MM-DD"),onChange:i,onBlur:d,valid:!n.birthdate&&a.birthdate,invalid:n.birthdate}),n.birthdate||a.birthdate?r.a.createElement("text",{className:"error-form"},n.birthdate):null)),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mt-4 mb-2"},"Store"),r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:e?"text-left":"text-right",for:"store_name",sm:3,xs:12},"Store Name"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{tag:je.a,type:"text",name:"store_name",id:"store_name",placeholder:"Store Name",value:s.store_name,onChange:i,onBlur:d,valid:!n.store_name&&a.store_name,invalid:n.store_name}),n.store_name||a.store_name?r.a.createElement(be.a,{invalid:!0},n.store_name):null)),r.a.createElement(k.a,{row:!0},r.a.createElement(T.a,{className:e?"text-left":"text-right",for:"store_description",sm:3,xs:12},"Store Description"),r.a.createElement(me.a,{sm:9},r.a.createElement(w.a,{type:"textarea","aria-multiline":!0,name:"store_description",id:"store_description",placeholder:"Description of your store",value:s.store_description,onChange:i,onBlur:d,valid:!n.store_description&&a.store_description,invalid:n.store_description}),n.store_description||a.store_description?r.a.createElement(be.a,{invalid:!0},n.store_description):null))):null),r.a.createElement(me.a,{xs:"12",md:"4"},r.a.createElement(na.a,{className:"flex-column align-items-center"},r.a.createElement(na.a,{top:!0,className:"position-relative",style:{width:"7em",height:"7em"}},u.uriAvatar!==re.a?r.a.createElement(C.a,{type:"button",color:"white",onClick:function(e){return V(e)},className:"close-btn"},r.a.createElement(De.a,{className:"position-relative",color:"#7C4935",size:"1em"})):null,r.a.createElement("div",{className:"rounded-circle  position-relative overflow-hidden",style:{width:"100%",height:"100%"}},r.a.createElement(na.a,{object:!0,src:u.uriAvatar,className:"position-absolute img-fluid",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%"}}))),r.a.createElement(na.a,{body:!0,className:"my-3"},r.a.createElement(T.a,{for:"avatar",className:"btn btn-outline-secondary rounded-pill"},r.a.createElement("span",null,"Select File"),r.a.createElement(w.a,{onChange:z,type:"file",id:"avatar",accept:".jpg,.jpeg,.png",style:{display:"none"}}),r.a.createElement(ke,Object.assign({modalOpen:U},B)),r.a.createElement(ke,Object.assign({modalOpen:I},A)),r.a.createElement(Me,{modalOpen:c.deleteAvaPending}))))),r.a.createElement(me.a,{xs:"12",md:"8",className:"mb-3"},r.a.createElement(k.a,{row:!0},r.a.createElement(me.a,{md:{size:9,offset:3},sm:12,className:e?"d-flex align-items-center justify-content-center":""},r.a.createElement(C.a,{color:"success",type:"submit",className:"rounded-pill"},"Submit")))),r.a.createElement(Me,{modalOpen:c.getProfilePending||c.isPending}),r.a.createElement(ke,Object.assign({modalOpen:f},O))))})),r.a.createElement(da,{md:e}))}var ga=function(e,t){return{type:"POST_NEW_ADDRESS",payload:Z(e).post("/address",t)}},Ea=function(e,t,a){return{type:"PATCH_ADDRESS",payload:Z(e).patch("/address/".concat(t),a)}},fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return{type:"GET_ADDRESS",payload:Z(e).get("/address?".concat(Se.a.stringify({limit:t})))}},ha=function(e,t){return{type:"GET_ADDRESS_ID",payload:Z(e).get("/address/detail/".concat(t))}},ba=function(e){return{type:"GET_PROVINCE",payload:Z(e).get("/address/province")}},va=function(e,t){return{type:"GET_CITY",payload:Z(e).get("/address/province/city/".concat(t))}},Oa=function(e,t){return{type:"DELETE_ADDRESS",payload:Z(e).delete("/address/".concat(t))}},ya=(a(245),function(){return{type:"MODAL_NEW_ADDRESS_OPEN"}}),ja=function(){return{type:"MODAL_NEW_ADDRESS_CLOSE"}},Na=function(e,t){return{type:"MODAL_EDIT_ADDRESS_OPEN",payload:t}},_a=function(){return{type:"MODAL_EDIT_ADDRESS_CLOSE"}},Ia=Ne.d().shape({address_name:Ne.f("Input the right address name").required("Address name is required!"),recipient_name:Ne.f("Input the right recipient name format!").required("Recipient name is required!"),phone:Ne.f("Input the right phone number").required("Phone must be provided!").matches(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i,"Input right phone number format!"),address:Ne.f("Input the right address!").min(2,"Address is too short").required("Address is needed!"),city_id:Ne.c("Select the right city id!").min(1,"city can not be empty!").required("City id is required!"),province_id:Ne.c("Select the right province id!").min(1,"province can not be empty!").required("Province id is required!"),postal_code:Ne.f("Input the right postal code!").matches(/^([1-9])[0-9]{4}$/,"Input the right postal code format!").required("Postal code is required"),primary_address:Ne.b("Input the right format for primary address!").required("Primary address is required")});function Sa(){var e=Object(s.d)((function(e){return e.auth.token})),t=Object(s.d)((function(e){return e.modalButton.modalEditAddress})),a=Object(s.d)((function(e){return e.modalButton.idAddress})),c=Object(s.d)((function(e){return e.address.provinceData})),l=Object(s.d)((function(e){return e.address.cityData})),o=Object(s.d)((function(e){return e.address})),i=Object(s.d)((function(e){return e.address.updateAddressPending})),d=Object(s.d)((function(e){return e.address.getAddressIdSuccess})),m=Object(s.d)((function(e){return e.address.addressDetail})),u=Object(n.useState)(!1),p=Object(_.a)(u,2),g=p[0],E=p[1],f=Object(n.useState)({}),h=Object(_.a)(f,2),b=h[0],v=h[1],O=Object(n.useState)({value:0,label:"Select province"}),y=Object(_.a)(O,2),I=y[0],S=y[1],D=Object(n.useState)([]),P=Object(_.a)(D,2),A=P[0],L=P[1],M=Object(n.useState)([]),R=Object(_.a)(M,2),U=R[0],G=R[1],q=Object(n.useState)({}),B=Object(_.a)(q,2),H=B[0],z=B[1],V=Object(n.useState)(!0),W=Object(_.a)(V,2),Y=W[0],J=W[1],Q=Object(n.useState)(!1),K=Object(_.a)(Q,2),Z=K[0],$=K[1],X=Object(s.c)(),ee=function(){J(!0),X(_a())};Object(n.useEffect)((function(){a&&X(ha(e,a))}),[a]),Object(n.useEffect)((function(){o.updateAddressSuccess?(v({title:"Success!",content:"Success update address!",confirm:function(){E(!1),X(fa(e)),ee()},close:function(){E(!1),X(fa(e)),ee()}}),E(!0)):o.updateAddressError&&(v({title:"Warning",content:"Failed update address!",confirm:function(){E(!1)},close:function(){E(!1)}}),E(!0))}),[i]),Object(n.useEffect)((function(){var e=m.province_id;d&&(console.log("set select province"),console.log(Y),Y&&A.length&&e&&(console.log("set select province"),A.forEach((function(t){console.log(t),Number(t.value)===e&&(console.log(t),S(t))})),$(!0)))}),[d,A]),Object(n.useEffect)((function(){var e=c.map((function(e){return e={value:e.province_id,label:e.province}}));console.log(e),L(e)}),[c]),Object(n.useEffect)((function(){var e=l.map((function(e){return e={value:e.city_id,label:e.city,postal_code:e.postal_code}}));console.log(e),G(e)}),[l]),Object(n.useEffect)((function(){I.value&&X(va(e,I.value))}),[I]),Object(n.useEffect)((function(){Z&&U.forEach((function(e){Number(e.value)===m.city_id&&(z(e),J(!1))}))}),[Z,U]);var te={address_name:m.address_name,phone:m.phone,address:m.address,province_id:m.province_id||0,city_id:m.city_id||0,postal_code:m.postal_code,primary_address:!!m.primary_address,recipient_name:m.recipient_name},ae={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{borderColor:t.selectProps.error?"#7C4935":t.selectProps.touched?"#457373":"rgba(0,0,0,.2)"})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{isOpen:t,size:"lg",className:"position-relative"},r.a.createElement(Me,{modalOpen:o.getAddressIdPending}),r.a.createElement(Me,{modalOpen:o.updateAddressPending}),r.a.createElement(ke,Object.assign({modalOpen:g},b)),r.a.createElement(C.a,{onClick:function(){return ee()},color:"white",className:"position-absolute btn-close"},r.a.createElement(De.b,{color:"danger",style:{width:"1em",height:"1em"}})),r.a.createElement("div",{className:"w-100 h-100 p-3 overflow-auto",style:{backgroundColor:"#fff",borderRadius:"3em"}},r.a.createElement(j.a,{className:"p-3 overflow-auto header-container",style:{backgroundColor:"#fff"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("h4",null,"Update address")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("text",{className:"text-muted small"},"Update your selected address here"))),r.a.createElement(je.c,{enableReinitialize:!0,initialValues:te,validationSchema:Ia,validateOnBlur:!0,onSubmit:function(t){!function(t){X(Ea(e,a,t))}(t)}},(function(e){var t=e.touched,a=e.errors,n=e.handleSubmit,c=e.values,l=e.handleChange,s=e.handleBlur,o=e.setFieldValue;return r.a.createElement(j.a,null,r.a.createElement(x.a,{onSubmit:n},r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"address_name",className:"small text-secondary"},"Save address as (ex : home address, office address)"),r.a.createElement(w.a,{type:"text",name:"address_name",id:"address_name",tag:je.a,onChange:l,onBlur:s,valid:!a.address_name&&t.address_name,invalid:a.address_name}),a.address_name||t.address_name?r.a.createElement(be.a,{invalid:!0},a.address_name):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"recipient_name",className:"small text-secondary"},"Recipient\u2019s name"),r.a.createElement(w.a,{type:"text",name:"recipient_name",id:"recipient_name",tag:je.a,onChange:l,onBlur:s,valid:!a.recipient_name&&t.recipient_name,invalid:a.recipient_name}),a.recipient_name||t.recipient_name?r.a.createElement(be.a,{invalid:!0},a.recipient_name):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"phone",className:"small text-secondary"},"Recipient's telephone number"),r.a.createElement(w.a,{type:"number",name:"phone",id:"phone",tag:je.a,onChange:l,onBlur:s,valid:!a.phone&&t.phone,invalid:a.phone}),a.phone||t.phone?r.a.createElement(be.a,{invalid:!0},a.phone):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"address",className:"small text-secondary"},"Address"),r.a.createElement(w.a,{type:"name",name:"address",id:"address",tag:je.a,onChange:l,onBlur:s,valid:!a.address&&t.address,invalid:a.address}),a.address||t.address?r.a.createElement(be.a,{invalid:!0},a.address):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"postal_code",className:"small text-secondary"},"Postal Code"),r.a.createElement(w.a,{type:"number",name:"postal_code",id:"postal_code",disabled:!0,value:c.postal_code,tag:je.a,onChange:l,onBlur:s,valid:!a.postal_code&&t.postal_code,invalid:a.postal_code}),a.postal_code||t.postal_code?r.a.createElement("text",{className:"error-form"},a.postal_code):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,{row:!0},r.a.createElement(me.a,{xs:"6",md:"7"},r.a.createElement(T.a,{for:"province_id",className:"small text-secondary"},"Province"),r.a.createElement(F.a,{id:"province_id",name:"province_id",value:I,styles:ae,error:a.province_id,touched:t.province_id,onChange:function(e){!function(e,t){S(e),t("city_id",0),t("postal_code",""),t("province_id",e.value)}(e,o)},options:A}),a.province_id?r.a.createElement("text",{className:"error-form"},a.province_id):null),r.a.createElement(me.a,{xs:"6",md:"5"},r.a.createElement(T.a,{for:"city_id",className:"small text-secondary"},"City or District"),r.a.createElement(F.a,{id:"city_id",name:"city_id",value:H,styles:ae,error:a.city_id,touched:t.city_id,onChange:function(e){!function(e,t){t("city_id",e.value),t("postal_code",e.postal_code)}(e,o)},options:U}),a.city_id?r.a.createElement("text",{className:"error-form"},a.city_id):null))),r.a.createElement(me.a,{xs:"12",className:"my-1"},r.a.createElement(k.a,{className:"d-flex align-items-center justify-content-start"},r.a.createElement("div",{className:"d-flex align-items-center position-relative"},r.a.createElement(w.a,{type:"checkbox",name:"primary_address",id:"primary_address",color:"success",style:{paddingBottom:"0.25em"},className:"ml-1 mb-1 checkbox",checked:c.primary_address,value:c.primary_address,tag:je.a,onChange:function(){o("primary_address",!c.primary_address)},onBlur:s}),r.a.createElement(T.a,{for:"primary_address",className:"small text-secondary ml-4"},"Make it the primary address"))),a.primary_address||t.primary_address?r.a.createElement(j.a,{className:"my-0"},r.a.createElement("text",{className:"error-form"},a.primary_address)):null)),r.a.createElement(me.a,{xs:"12",className:"d-flex align-item-center justify-content-end"},r.a.createElement(de.a,{className:"col-12 col-md-6"},r.a.createElement(me.a,{xs:"6",className:"d-flex align-item-center justify-content-center px-2"},r.a.createElement(C.a,{outline:!0,color:"secondary",className:"w-100 rounded-pill text-secondary",onClick:function(){return ee()}},"Cancel")),r.a.createElement(me.a,{xs:"6",className:"d-flex align-item-center justify-content-center px-2"},r.a.createElement(C.a,{color:"success",className:"rounded-pill w-100",type:"submit"},"Save"))))))})))))}var Da=Ne.d().shape({address_name:Ne.f("Input the right address name").required("Address name is required!"),recipient_name:Ne.f("Input the right recipient name format!").required("Recipient name is required!"),phone:Ne.f("Input the right phone number").required("Phone must be provided!").matches(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i,"Input right phone number format!"),address:Ne.f("Input the right address!").min(2,"Address is too short").required("Address is needed!"),city_id:Ne.c("Select the right city id!").min(1,"city can not be empty!").required("City id is required!"),province_id:Ne.c("Select the right province id!").min(1,"province can not be empty!").required("Province id is required!"),postal_code:Ne.f("Input the right postal code!").matches(/^([1-9])[0-9]{4}$/,"Input the right postal code format!").required("Postal code is required"),primary_address:Ne.b("Input the right format for primary address!").required("Primary address is required")});function Ca(){var e=Object(s.d)((function(e){return e.auth.token})),t=Object(s.d)((function(e){return e.modalButton.modalNewAddress})),a=Object(s.d)((function(e){return e.address.provinceData})),c=Object(s.d)((function(e){return e.address.cityData})),l=Object(s.d)((function(e){return e.address})),o=Object(s.d)((function(e){return e.address.createAddressPending})),i=Object(n.useState)(!1),d=Object(_.a)(i,2),m=d[0],u=d[1],p=Object(n.useState)({}),g=Object(_.a)(p,2),E=g[0],f=g[1],h=Object(n.useState)({value:0,label:"Select province"}),b=Object(_.a)(h,2),v=b[0],O=b[1],y=Object(n.useState)([]),I=Object(_.a)(y,2),S=I[0],D=I[1],P=Object(n.useState)([]),A=Object(_.a)(P,2),L=A[0],M=A[1],R=Object(s.c)(),U=function(){R(ja())};Object(n.useEffect)((function(){l.createAddressSuccess?(f({title:"Success!",content:"Success add new address!",confirm:function(){u(!1),R(fa(e)),U()},close:function(){u(!1)}}),u(!0)):l.createAddressError&&(f({title:"Warning",content:"Failed add new address!",confirm:function(){u(!1)},close:function(){u(!1)}}),u(!0))}),[o]),Object(n.useEffect)((function(){var e=a.map((function(e){return e={value:e.province_id,label:e.province}}));console.log(e),D(e)}),[a]),Object(n.useEffect)((function(){var e=c.map((function(e){return e={value:e.city_id,label:e.city,postal_code:e.postal_code}}));console.log(e),M(e)}),[c]),Object(n.useEffect)((function(){v.value&&R(va(e,v.value))}),[v]);var G={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{borderColor:t.selectProps.error?"#7C4935":t.selectProps.touched?"#457373":"rgba(0,0,0,.2)"})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{isOpen:t,size:"lg",className:"position-relative"},r.a.createElement(Me,{modalOpen:l.createAddressPending}),r.a.createElement(ke,Object.assign({modalOpen:m},E)),r.a.createElement(C.a,{onClick:function(){return U()},color:"white",className:"position-absolute btn-close"},r.a.createElement(De.b,{color:"danger",style:{width:"1em",height:"1em"}})),r.a.createElement("div",{className:"w-100 h-100 p-3 overflow-auto",style:{backgroundColor:"#fff",borderRadius:"3em"}},r.a.createElement(j.a,{className:"p-3 overflow-auto header-container",style:{backgroundColor:"#fff"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("h4",null,"Create new address")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("text",{className:"text-muted small"},"Add your new address here"))),r.a.createElement(je.c,{initialValues:{address_name:"",phone:"",address:"",province_id:0,city_id:0,postal_code:"",primary_address:!0,recipient_name:""},validationSchema:Da,validateOnBlur:!0,onSubmit:function(t){!function(t){R(ga(e,t))}(t)}},(function(e){var t=e.touched,a=e.errors,n=e.handleSubmit,c=e.values,l=e.handleChange,s=e.handleBlur,o=e.setFieldValue;return r.a.createElement(j.a,null,r.a.createElement(x.a,{onSubmit:n},r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"address_name",className:"small text-secondary"},"Save address as (ex : home address, office address)"),r.a.createElement(w.a,{type:"text",name:"address_name",id:"address_name",tag:je.a,onChange:l,onBlur:s,valid:!a.address_name&&t.address_name,invalid:a.address_name}),a.address_name||t.address_name?r.a.createElement(be.a,{invalid:!0},a.address_name):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"recipient_name",className:"small text-secondary"},"Recipient\u2019s name"),r.a.createElement(w.a,{type:"text",name:"recipient_name",id:"recipient_name",tag:je.a,onChange:l,onBlur:s,valid:!a.recipient_name&&t.recipient_name,invalid:a.recipient_name}),a.recipient_name||t.recipient_name?r.a.createElement(be.a,{invalid:!0},a.recipient_name):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"phone",className:"small text-secondary"},"Recipient's telephone number"),r.a.createElement(w.a,{type:"text",name:"phone",id:"phone",tag:je.a,onChange:l,onBlur:s,valid:!a.phone&&t.phone,invalid:a.phone}),a.phone||t.phone?r.a.createElement(be.a,{invalid:!0},a.phone):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"address",className:"small text-secondary"},"Address"),r.a.createElement(w.a,{type:"name",name:"address",id:"address",tag:je.a,onChange:l,onBlur:s,valid:!a.address&&t.address,invalid:a.address}),a.address||t.address?r.a.createElement(be.a,{invalid:!0},a.address):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,null,r.a.createElement(T.a,{for:"postal_code",className:"small text-secondary"},"Postal Code"),r.a.createElement(w.a,{type:"number",name:"postal_code",id:"postal_code",disabled:!0,value:c.postal_code,tag:je.a,onChange:l,onBlur:s,valid:!a.postal_code&&t.postal_code,invalid:a.postal_code}),a.postal_code||t.postal_code?r.a.createElement("text",{className:"error-form"},a.postal_code):null)),r.a.createElement(me.a,{xs:"12",md:"6",className:"my-1"},r.a.createElement(k.a,{row:!0},r.a.createElement(me.a,{xs:"6",md:"7"},r.a.createElement(T.a,{for:"province_id",className:"small text-secondary"},"Province"),r.a.createElement(F.a,{tag:je.a,id:"province_id",name:"province_id",styles:G,error:a.province_id,touched:t.province_id,onChange:function(e){!function(e,t){O(e),t("city_id",0),t("postal_code",""),t("province_id",e.value)}(e,o)},options:S}),a.province_id?r.a.createElement("text",{className:"error-form"},a.province_id):null),r.a.createElement(me.a,{xs:"6",md:"5"},r.a.createElement(T.a,{for:"city_id",className:"small text-secondary"},"City or District"),r.a.createElement(F.a,{tag:je.a,id:"city_id",name:"city_id",styles:G,error:a.city_id,touched:t.city_id,onChange:function(e){!function(e,t){t("city_id",e.value),t("postal_code",e.postal_code)}(e,o)},options:L}),a.city_id?r.a.createElement("text",{className:"error-form"},a.city_id):null))),r.a.createElement(me.a,{xs:"12",className:"my-1"},r.a.createElement(k.a,{className:"d-flex align-items-center justify-content-start"},r.a.createElement("div",{className:"d-flex align-items-center position-relative"},r.a.createElement(w.a,{type:"checkbox",name:"primary_address",id:"primary_address",color:"success",style:{paddingBottom:"0.25em"},className:"ml-1 mb-1 checkbox",checked:c.primary_address,value:c.primary_address,tag:je.a,onChange:function(){o("primary_address",!c.primary_address)},onBlur:s}),r.a.createElement(T.a,{for:"primary_address",className:"small text-secondary ml-4"},"Make it the primary address"))),a.primary_address||t.primary_address?r.a.createElement(j.a,{className:"my-0"},r.a.createElement("text",{className:"error-form"},a.primary_address)):null)),r.a.createElement(me.a,{xs:"12",className:"d-flex align-item-center justify-content-end"},r.a.createElement(de.a,{className:"col-12 col-md-6"},r.a.createElement(me.a,{xs:"6",className:"d-flex align-item-center justify-content-center px-2"},r.a.createElement(C.a,{outline:!0,color:"secondary",className:"w-100 rounded-pill text-secondary",onClick:function(){return U()}},"Cancel")),r.a.createElement(me.a,{xs:"6",className:"d-flex align-item-center justify-content-center px-2"},r.a.createElement(C.a,{color:"success",className:"rounded-pill w-100",type:"submit"},"Save"))))))})))))}function xa(){var e=Object(s.d)((function(e){return e.auth.token})),t=Object(s.d)((function(e){return e.address.addressData})),a=Object(s.d)((function(e){return e.deleteAddress})),c=Object(n.useState)(!1),l=Object(_.a)(c,2),o=l[0],i=l[1],d=Object(n.useState)({}),m=Object(_.a)(d,2),u=m[0],p=m[1],g=Object(s.d)((function(e){return e.address.getAddressPending})),E=Object(s.c)();Object(n.useEffect)((function(){E(ba(e))}),[]),Object(n.useEffect)((function(){E(fa(e))}),[e]),Object(n.useEffect)((function(){a.success?(p({title:"Success!",content:"Success delete address",close:function(){E(fa(e)),i(!1)},confirm:function(){E(fa(e)),i(!1)}}),i(!0)):a.error&&(p({title:"Error!",content:"There is an error when deleting address!",close:function(){E(fa(e)),i(!1)},confirm:function(){E(fa(e)),i(!1)}}),i(!0))}),[a.pending]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,null,r.a.createElement(ke,Object.assign({modalOpen:o},u)),r.a.createElement(Me,{modalOpen:a.pending}),r.a.createElement(C.a,{color:"success",outline:!0,onClick:function(){E(ya())},block:!0,className:"mb-3 btn-add-address d-flex align-items-center justify-content-center"},"Add new address"),g?r.a.createElement(me.a,{xs:"12",className:"py-3 d-flex align-items-center justify-content-center"},r.a.createElement(Le.a,{color:"success",size:"sm"})):t.length?t.map((function(t){return r.a.createElement(me.a,{xs:"12",className:"mb-3 py-3 position-relative rounded border".concat(t.primary_address?" border-success":"")},r.a.createElement(C.a,{onClick:function(){return a=t.id,p({title:"Warning",content:"Are you sure want to delete this address?",confirm:function(){E(Oa(e,a)),i(!1)},close:function(){i(!1)}}),void i(!0);var a},color:"white",className:"position-absolute btn-delete-address"},r.a.createElement(De.b,{color:"#7C4935",style:{width:"1em",height:"1em"}})),r.a.createElement("div",{className:"my-2 h6"},r.a.createElement("strong",null,t.address_name)),r.a.createElement("div",{className:"my-2"},t.address.concat(" ".concat(t.city)).concat(" ".concat(t.postal_code))),r.a.createElement(C.a,{onClick:function(){return a=t.id,void E(Na(e,a));var a},outline:!0,color:"success",className:"btn-custom-no-outline my-2"},"Change Address"))})):r.a.createElement(me.a,{xs:"12",className:"py-3 d-flex align-items-center justify-content-center"},r.a.createElement("text",{className:"text-center text-danger"},r.a.createElement("small",null,"You haven't create any address, create one!"))),r.a.createElement(Ca,null),r.a.createElement(Sa,null)))}function Pa(){var e=oe(),t=e.md,a=e.lg,c=Object(s.d)((function(e){return e.auth.token})),l=Object(s.d)((function(e){return e.profile.userData})),o=Object(s.d)((function(e){return e.profile.isUpdated})),i=Object(s.c)(),d=Object(p.g)(),m=Object(p.h)().pathname,g=Object(n.useState)(""),E=Object(_.a)(g,2),f=E[0],h=E[1],b=Object(n.useState)(""),v=Object(_.a)(b,2),O=v[0],y=v[1],N=Object(n.useState)(0),I=Object(_.a)(N,2),S=I[0],D=I[1];Object(n.useEffect)((function(){switch(m){case"/profile":D(0);break;case"/address":D(1);break;case"/orders":D(2);break;default:D(0)}}),[]),Object(n.useEffect)((function(){o&&i($(c))}),[c,o]),Object(n.useEffect)((function(){h(l.name),y(l.avatar?"".concat("http://localhost:8989","/").concat(l.avatar):re.a)}),[l]);var C=[{name:"My Profile",path:"/profile",Icon:function(e){var t=e.color;return r.a.createElement(q.d,{color:t,className:"rounded-circle img-center"})},bgColor:{backgroundColor:"#456BF3"}},{name:"Shipping Address",path:"/address",Icon:function(e){var t=e.color;return r.a.createElement(ra.a,{color:t,className:"rounded-circle img-center"})},bgColor:{backgroundColor:"#F36F45"}},{name:"My Orders",path:"/profile",Icon:function(e){var t=e.color;return r.a.createElement(wt.b,{color:t,className:"rounded-circle img-center"})},bgColor:{backgroundColor:"#F3456F"}}],x=function(){switch(m){case"/profile":return"My Profile";case"/address":return"Choose Another Address";default:return"My Profile"}},P=function(){switch(m){case"/profile":return"Manage your profile information";case"/address":return"Manage your shipping address";default:return"Manage your profile information"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(de.a,{style:{width:"100%",margin:"0"}},r.a.createElement(me.a,{xs:"12",md:"3",className:"py-2 px-4 ".concat(t?"fixed-bottom justify-content-around w-100 bg-white":null)},t?null:r.a.createElement(na.a,{className:"align-items-center my-3"},r.a.createElement(na.a,{left:!0},r.a.createElement("div",{className:"position-relative border-circle square3p5em"},r.a.createElement(na.a,{object:!0,src:O,className:"rounded-circle img-fluid img-center"}))),r.a.createElement(na.a,{body:!0,className:"ml-3"},r.a.createElement("div",{className:"strong h5"},f),r.a.createElement("div",{className:"text-muted small"},r.a.createElement("span",null,r.a.createElement(wt.a,null))," ","Ubah profil"))),r.a.createElement(R.a,{vertical:!t,horizontal:t,className:"row"},C.map((function(e,t){var n=e.name,c=e.path,l=e.Icon,s=e.bgColor,o=a?t===S?"white":"black":"white",i=a?t===S?{backgroundColor:"#457373"}:{backgroundColor:"white"}:s;return r.a.createElement(U.a,{className:"col-4 col-md-12"},r.a.createElement(na.a,{className:"align-items-center my-2 w-100"},r.a.createElement(u.b,{onClick:function(e){return function(e,t,a){e.preventDefault(),D(t),d.push(a)}(e,t,c)},to:"/profile",style:{textDecoration:"none"},className:"d-flex align-items-center ".concat(a?"w-100 flex-column justify-content-center":"")},r.a.createElement(na.a,{left:!0,className:"position-relative square-1-5em rounded-circle",style:i},r.a.createElement(l,{color:o})),a?null:r.a.createElement(na.a,{body:!0,className:"ml-2"},r.a.createElement("text",{className:S===t?"small text-dark font-weight-bold":"small text-dark "},n)))))})))),r.a.createElement(me.a,{xs:"12",md:"9",style:{backgroundColor:"#f5f5f5",height:"calc(100vh - 5.5em)"},className:"p-5"},r.a.createElement("div",{className:"w-100 h-100 p-5 overflow-auto",style:{backgroundColor:"#fff"}},r.a.createElement("div",{className:"border-bottom pb-3"},r.a.createElement("div",{className:"h4"},x()),r.a.createElement("div",{className:"text-muted small"},P())),r.a.createElement(j.a,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my-3";switch(m){case"/profile":return r.a.createElement(pa,{className:e});case"/address":return r.a.createElement(xa,{className:e});default:return r.a.createElement(pa,{className:e})}}())))))}var wa=function(e,t,a,n){return{type:"POST_NEW_CART",payload:Z(e).post("/mycart",{quantity:t,item_id:a,itemdetails_id:n})}},Aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return{type:"GET_CART",payload:Z(e).get("/mycart",{params:{limit:t}})}},Ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{}];return{type:"DELETE_BULK_CART",payload:Z(e).delete("/mycart/bulk?".concat(Se.a.stringify({deleteArr:t})))}};a(458);function ka(){var e=Object(p.i)().id,t=Object(s.d)((function(e){return e.items.detailItem})),a=Object(s.d)((function(e){return e.items.detailColorItem})),c=Object(s.d)((function(e){return e.items.detailItemPending})),l=Object(s.d)((function(e){return e.items.dataNewItems})),o=Object(s.d)((function(e){return e.auth.token})),i=Object(s.c)(),d=Object(p.g)(),m=Object(n.useState)(null),u=Object(_.a)(m,2),E=u[0],f=u[1],h=Object(n.useState)(1),b=Object(_.a)(h,2),v=b[0],O=b[1],y=Object(s.d)((function(e){return e.cart})),N=Object.keys(t).length?t.rating:[0],I=Object(_.a)(N,1)[0],S=[t.product_image_1,t.product_image_2,t.product_image_3,t.product_image_4].filter((function(e){return e})),D=Object(n.useState)("".concat("http://localhost:8989","/").concat(t.product_image_1)),x=Object(_.a)(D,2),P=x[0],A=x[1],T=Object(n.useState)(!1),k=Object(_.a)(T,2),L=k[0],M=k[1],R=Object(n.useState)(!1),U=Object(_.a)(R,2),G=U[0],F=U[1],q=function(){M(!E&&!L)};Object(n.useEffect)((function(){i(ze("1","15"))}),[]),Object(n.useEffect)((function(){i(Ve(e))}),[e]);Object(n.useEffect)((function(){A("".concat("http://localhost:8989","/").concat(t.product_image_1))}),[t]);return Object(n.useEffect)((function(){(y.postCartSuccess||y.postCartError)&&F(!0)}),[y.postCartPending]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"".concat(t.name?t.name:"Tuku!"," Find All you need here! || Tuku!"))),r.a.createElement(ie,null),r.a.createElement(j.a,null,r.a.createElement(Me,{modalOpen:c}),r.a.createElement(de.a,{className:"my-5"},r.a.createElement(me.a,{xs:"12",sm:"4",md:"4"},r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",className:"mb-2"},r.a.createElement("div",{className:"position-relative rounded picture-product-show-wrapper"},r.a.createElement("img",{src:P,alt:"pic showed",className:"rounded img-fluid picture-product"}))),r.a.createElement(me.a,{xs:"12",className:"mb-2"},r.a.createElement("div",{className:"d-flex"},S.length?S.map((function(e,t){var a="".concat("http://localhost:8989","/").concat(e);return e?r.a.createElement("div",{className:"w-25"},r.a.createElement("button",{style:0===t?{}:{marginLeft:"10%"},type:"button",className:"btn rounded position-relative picture-selector-wrapper",onClick:function(e){return function(e,t){t.preventDefault(),A(e)}(a,e)}},r.a.createElement("img",{src:a,alt:"pic selector",className:"rounded position-absolute img-fluid w-100 image-selector"}))):null})):null)))),r.a.createElement(me.a,{xs:"12",sm:"8",md:"8"},r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",className:"h3"},t.name)),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",className:"text-muted"},t.store_name)),r.a.createElement(de.a,{className:"my-2"},r.a.createElement(me.a,{xs:"12",className:"d-flex"},r.a.createElement("span",null,r.a.createElement(At,{rating:I.ratingAvg})),r.a.createElement("span",{className:"ml-1 text-muted"},"(",I.ratingCount||0,")"))),r.a.createElement(de.a,{className:"my-2"},r.a.createElement(me.a,{xs:"12"},"Price"),r.a.createElement(me.a,{xs:"12",className:"text-success h5"},lt(t.price))),r.a.createElement(de.a,{className:"my-3"},r.a.createElement(ve.a,{target:"openTooltip",isOpen:L,toggle:q,placement:"top"},"Choose one of the color!"),r.a.createElement(me.a,{xs:"12",className:"h6"},r.a.createElement("text",{name:"openTooltip",id:"openTooltip"},"Color")),r.a.createElement(me.a,{xs:"12",className:"d-flex"},a.length?a.map((function(e){var t=E===e.id?"1px solid red":"none";return r.a.createElement("div",{style:{width:"2em",height:"2em",border:t},className:"mr-2 position-relative rounded-circle"},r.a.createElement(C.a,{disabled:!e.available,style:{backgroundColor:e.hex,opacity:e.available?1:.2,width:"80%",height:"80%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},className:"rounded-circle position-absolute border-0",onClick:function(){return f(e.id)},active:E===e.id},"\xa0"))})):null)),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"6",md:"4",lg:"3"},r.a.createElement("div",null,r.a.createElement("strong",null,"Quantity")),r.a.createElement("div",{className:"d-flex"},r.a.createElement(C.a,{color:"secondary",disabled:v<=0,className:"rounded-circle",onClick:function(){return O((function(e){return e-1}))}},"\u2212"),r.a.createElement(w.a,{className:"text-center border-0",style:{border:"none",width:"4em"},type:"number",name:"quantity",value:v,onChange:function(e){return O(e.target.value)}}),r.a.createElement(C.a,{color:"light",disabled:t.stock<=v,className:"rounded-circle",onClick:function(){return O((function(e){return e+1}))}},"+")))),r.a.createElement(de.a,{className:"my-3"},r.a.createElement(me.a,{xs:"6",md:"3",className:"my-1"},r.a.createElement(C.a,{outline:!0,color:"dark",className:"w-100 rounded-pill",style:{fontSize:"0.75em"},disabled:!0},"Chat")),r.a.createElement(me.a,{xs:"6",md:"3",className:"my-1"},r.a.createElement(C.a,{outline:!0,color:"dark",className:"w-100 rounded-pill",style:{fontSize:"0.75em"},onMouseEnter:q,onMouseLeave:q,onClick:E?function(t){return function(t){t.preventDefault(),E&&i(wa(o,v,e,E))}(t)}:null},"Add bag"),r.a.createElement(Me,{modalOpen:y.postCartPending}),r.a.createElement(ke,{modalOpen:G,title:y.postCartSuccess?"Success!":y.postCartError?"Error!":"Warning",content:y.postCartSuccess?"Success add item to cart":y.postCartError?"Error add item to cart":"There is something not right",confirm:function(){return F(!1)},close:function(){return F(!1)}})),r.a.createElement(me.a,{xs:"12",md:"6"},r.a.createElement(C.a,{color:"success",className:"w-100 rounded-pill",style:{fontSize:"0.75em"},onMouseEnter:q,onMouseLeave:q,onClick:E?function(e){return function(e,t){t.preventDefault(),d.push(e)}("/checkout",e)}:null},"Buy Now"))))),r.a.createElement("div",{className:"h4 my-4"},"Informasi Produk"),r.a.createElement("div",{className:"h5 mt-4"},"Condition"),r.a.createElement("div",{className:"h5 text-success my-2"},t.item_condition),r.a.createElement("div",{className:"h5 mt-4"},"Description"),r.a.createElement("article",{className:"text-muted my-2"},t.description),r.a.createElement("div",{className:"h5 mt-4"},"Product Review"),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"5",md:"3",lg:"3"},r.a.createElement("div",null,r.a.createElement("span",{className:"display-4"},Math.round(10*I.ratingAvg)/10),r.a.createElement("span",null,"/5")),r.a.createElement("div",null,r.a.createElement(At,{rating:I.ratingAvg}))),r.a.createElement(me.a,{xs:"7",md:"4",lg:"4"},I&&I.starCount.map((function(e,t){var a="".concat(100*e/I.ratingCount,"%");return t=5-t,console.log(t),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"1"},r.a.createElement(wt.c,{style:{color:"#f8ce0b"}})),r.a.createElement(me.a,{xs:"1",className:"text-muted"},t),r.a.createElement(me.a,{xs:"7"},r.a.createElement("div",{className:"position-relative",style:{width:"100%",height:"100%"}},r.a.createElement("div",{className:"bg-success position-absolute",style:{width:a,height:"20%",left:0,transform:"translateY(180%)"}}))),r.a.createElement(me.a,{xs:"1",className:"px-0"},e))})))),r.a.createElement("div",{className:"w-100 border-bottom my-3"}),r.a.createElement("div",{className:"h3"},"You can also like this"),r.a.createElement("div",{className:"text-muted"},"You've never seen it before"),r.a.createElement(de.a,{className:"justify-content-md-center mt-3 mb-5"},l.length&&l.map((function(e){return r.a.createElement(Tt,{product:e})})))))}var La=a(497),Ma=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"GET_CHECKOUT",payload:Z(e).post("/checkout/get",t)}};function Ra(){var e=oe(),t=e.xs,a=e.md,c=Object(s.d)((function(e){return e.auth.token})),l=Object(s.d)((function(e){return e.cart})),o=Object(s.d)((function(e){return e.cart.dataCart})),i=Object(s.c)(),d=Object(n.useState)([]),m=Object(_.a)(d,2),u=m[0],p=m[1],g=Object(n.useState)([]),E=Object(_.a)(g,2),f=E[0],h=E[1],b=Object(n.useState)(),v=Object(_.a)(b,2),O=v[0],y=v[1],I=Object(n.useState)([]),S=Object(_.a)(I,2),D=S[0],x=S[1],P=Object(n.useState)(!1),A=Object(_.a)(P,2),T=A[0],k=A[1],L=Object(n.useState)(0),M=Object(_.a)(L,2),R=M[0],U=M[1],G=Object(s.d)((function(e){return e.deleteCart})),F=Object(n.useState)({}),q=Object(_.a)(F,2),B=q[0],H=q[1],z=Object(n.useState)(!1),V=Object(_.a)(z,2),W=V[0],Y=V[1];Object(n.useEffect)((function(){i(Aa(c))}),[]),Object(n.useEffect)((function(){var e,t=0,a=Object(pe.a)(D);try{for(a.s();!(e=a.n()).done;){e.value.selected&&t++}}catch(n){a.e(n)}finally{a.f()}U(t)}),[D]),Object(n.useEffect)((function(){D.length&&(D.length===R?k(!0):k(!1))}),[D,R]),Object(n.useEffect)((function(){o.length&&(p(o.map((function(e){return e=e.quantity}))),x(o.map((function(e){return e={selected:!1,id:e.id}}))))}),[o]),Object(n.useEffect)((function(){o.length&&h(o.map((function(e,t){return e=u[t]*e.price}))),console.log(f)}),[o,u]),Object(n.useEffect)((function(){if(f.length&&D.length){var e=0,t=f.filter((function(e,t){return D[t].selected}));t.length&&(e=t.reduce((function(e,t){return e+t}))),console.log(e),y(e)}}),[f,D]),Object(n.useEffect)((function(){G.success&&(H({title:"Success",content:"Success delete selected cart!",confirm:function(){i(Aa(c)),Y(!1)},close:function(){i(Aa(c)),Y(!1)}}),Y(!0)),G.error&&(H({title:"Error",content:"Error delete selected cart!",confirm:function(){i(Aa(c)),Y(!1)},close:function(){i(Aa(c)),Y(!1)}}),Y(!0))}),[G.pending]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(j.a,null,r.a.createElement(ke,Object.assign({modalOpen:W},B)),r.a.createElement(Me,{modalOpen:G.pending}),r.a.createElement("div",{className:"h3 my-3"},"My Bag"),r.a.createElement(de.a,null,r.a.createElement(me.a,{xs:"12",md:"7"},r.a.createElement(La.a,{className:"shadow-lg my-3"},r.a.createElement("div",{className:"row no-gutters w-100"},r.a.createElement(me.a,{xs:"1",className:"checkbox-wrapper-cart"},r.a.createElement("div",{className:"checkbox-inside"},r.a.createElement(w.a,{type:"checkbox",name:"primary_address",id:"primary_address",color:"success",style:{paddingBottom:"0.25em"},className:"ml-1 checkbox",checked:T,value:T,onChange:function(){return function(){if(D.length)if(T){console.log("undo delete all");var e=Object(ge.a)(D);e=e.map((function(e){return e=Object(N.a)(Object(N.a)({},e),{},{selected:!1})})),x(e)}else{var t=Object(ge.a)(D);t=t.map((function(e){return e=Object(N.a)(Object(N.a)({},e),{},{selected:!0})})),x(t)}}()}}))),r.a.createElement(me.a,{xs:"9",className:"d-flex align-items-center justify-content-start"},r.a.createElement("text",null,r.a.createElement("strong",null,"Select all items"),r.a.createElement("text",{className:"text-muted"}," ","(",R," items selected)"))),r.a.createElement(me.a,{xs:"2",className:"d-flex justify-content-end align-items-center p-2"},r.a.createElement(C.a,{color:"success",disabled:!R,outline:!0,onClick:function(){return function(){var e=D.filter((function(e){return e=e.selected}));e=e.map((function(e){var t=Object(N.a)({},e);return delete t.selected,t})),console.log(e),H({title:"Warning!",content:"Are you sure want to remove from cart?",confirm:function(){i(Ta(c,e)),Y(!1)},close:function(){Y(!1)}}),Y(!0)}()},className:"btn-delete-cart"},"Delete")))),l.dataCartPending?r.a.createElement("div",{className:"py-3 d-flex align-items-center justify-content-center"},r.a.createElement(Le.a,{color:"success",size:"sm"})):o.length?o.map((function(e,n){return r.a.createElement(La.a,{className:"d-flex py-2 mb-3 shadow-lg align-items-center justify-content-center"},r.a.createElement("div",{className:"row no-gutters w-100"},r.a.createElement(me.a,{xs:"1",className:"checkbox-wrapper-cart"},r.a.createElement("div",{className:"checkbox-inside"},r.a.createElement(w.a,{type:"checkbox",name:"primary_address",id:"primary_address",color:"success",style:{paddingBottom:"0.25em"},className:"ml-1 checkbox",checked:!!D[n]&&D[n].selected,value:!!D[n]&&D[n].selected,onChange:function(){return function(e){var t=Object(ge.a)(D),a=t[e].selected;a=!a,t[e]=Object(N.a)(Object(N.a)({},t[e]),{},{selected:a}),x(t)}(n)}}))),r.a.createElement(me.a,{xs:"5",className:"p-1"},r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"position-relative rounded overflow-hidden",style:{width:t||a?"2em":"3em",height:t||a?"2em":"3em"}},r.a.createElement("img",{src:e.product_image_1?"".concat("http://localhost:8989","/").concat(e.product_image_1):Te.a,className:"img-fluid cart-img position-absolute",alt:"product_".concat(e.id)})),r.a.createElement("div",{className:"ml-1 text-cart-wrapper align-items-start justify-content-center"},r.a.createElement("div",null,r.a.createElement("text",{style:{fontSize:t||a?"0.75em":"1em",overflow:"hidden",lineHeight:"1.3em",height:"2.5em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflowWrap:"break-word",textOverflow:"ellipsis",width:"100%"}},r.a.createElement("strong",null,e.name)),r.a.createElement("text",{style:{fontSize:t||a?"0.5em":"0.75em",overflow:"hidden",lineHeight:"1.3em",height:"1.3em",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflowWrap:"break-word",textOverflow:"ellipsis",width:"100%"},className:"text-muted"},e.store_name))))),r.a.createElement(me.a,{xs:"3",className:"d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"d-flex w-100 align-items-center justify-content-center"},r.a.createElement(C.a,{color:"secondary",disabled:u[n]<=1,className:"shadow-lg rounded-circle position-relative",style:{width:"2em",height:"2em"},onClick:function(){return function(e){p((function(t){return console.log(t),t.map((function(t,a){return t=a===e?t-1:t}))})),console.log(u[e]),console.log(u)}(n)}},r.a.createElement("text",{className:"position-absolute",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"\u2212")),r.a.createElement("div",{className:"count-text"},r.a.createElement("text",{className:"text-center"},u[n])),r.a.createElement(C.a,{color:"light",className:"shadow-lg rounded-circle position-relative",style:{width:"2em",height:"2em"},onClick:function(){return function(e){p((function(t){return console.log(t),t.map((function(t,a){return t=a===e?t+1:t}))})),console.log(u[e]),console.log(u)}(n)}},r.a.createElement("text",{className:"position-absolute",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"+")))),r.a.createElement(me.a,{xs:"3",className:"d-flex justify-content-end align-items-center p-2"},r.a.createElement("text",{style:{fontSize:t||a?"0.75em":"1em"}},lt(f[n])))))})):r.a.createElement("div",{className:"py-3 d-flex align-items-center justify-content-center"},r.a.createElement("text",{className:"text-center text-danger"},r.a.createElement("small",null,"You haven't add anything in your cart, start shopping!")))),r.a.createElement(me.a,{xs:"12",md:"5",className:"my-3"},r.a.createElement(La.a,{className:"shadow-lg py-3"},r.a.createElement(j.a,null,r.a.createElement("div",{className:"mb-3"},r.a.createElement("text",null,r.a.createElement("strong",null,"Shopping summary"))),r.a.createElement("div",{className:"mb-2 d-flex justify-content-between"},r.a.createElement("text",{className:"text-muted"},"Total Price"),r.a.createElement("text",null,r.a.createElement("strong",null,lt(O)))),r.a.createElement(C.a,{disabled:!R,block:!0,className:"rounded-pill ",color:"success",onClick:function(){var e=Object(ge.a)(new Set(o.filter((function(e,t){return D[t].selected})).map((function(e){return e=e.seller_id})))),t=e.map((function(){return""})),a=e.map((function(){return 0})),n=o.map((function(e){return e=e.itemdetails_id}));console.log(t),console.log(a),console.log(n),console.log(u),i(Ma(c,{couriers:t,services:a,itemdetails_id:n,quantity:u}))}},"BUY")))))))}function Ua(){var e=Object(s.d)((function(e){return e.searchQuery.query})),t=Object(s.d)((function(e){return e.items.searchData})),a=Object(s.d)((function(e){return e.items.searchIsPending})),n=r.a.useState(""),c=Object(_.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){console.log(e);var t=e.search?e.search:"";if(t){var a=Object.values(t)[0];o(a)}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Search result for: ".concat(l," || Tuku!"))),r.a.createElement(ie,{inSearchPage:!0}),r.a.createElement(j.a,null,r.a.createElement(Me,{modalOpen:a}),r.a.createElement("h3",{className:"mt-3 mb-1"},"Search result for: ",l),r.a.createElement(de.a,{className:"justify-content-md-center mt-3 mb-5"},t.length?t.map((function(e){return r.a.createElement(Tt,{product:e})})):null)),r.a.createElement(Ye,null))}var Ga=a(83),Fa=a(264),qa=a.n(Fa),Ba=a(265),Ha=a(266),za={isLogin:!1,isError:!1,isLoading:!1,alertMsg:"",token:"",isSeller:!1,id:0},Va={userIsCreated:!1,isError:!1,isLoading:!1,alertMsg:""},Wa={userData:{},message:"",isUpdated:!1,isError:!1,isPending:!1,getProfilePending:!1,getProfileError:!1,getProfileSuccess:!1,getProfileMessage:"",deleteAvaSuccess:!1,deleteAvaError:!1,deleteAvaPending:!1,deleteAvaMessage:""},Ya={dataNewItems:[],pageInfoNewItems:{},newItemPending:!1,newItemError:!1,newItemSuccess:!1,newItemMessage:"",dataPopularItems:[],pageInfoPopularItems:{},popularPending:!1,popularError:!1,popularSuccess:!1,popularMessage:"",detailItem:[],detailItemPending:!1,detailItemError:!1,detailItemSuccess:!1,detailItemMessage:"",detailColorItem:[],detailColorPending:!1,detailColorError:!1,detailColorSuccess:!1,detailColorMessage:"",searchData:[],searchPageInfo:{},searchIsPending:!1,searchIsError:!1,searchIsSuccess:!1,searchMessage:""},Ja={dataCart:[],dataCartPending:!1,dataCartError:!1,dataCartSuccess:!1,dataCartMessage:"",postCartPending:!1,postCartError:!1,postCartSuccess:!1,postCartMessage:""},Qa={addressData:[],getAddressSuccess:!1,getAddressError:!1,getAddressPending:!1,getAddressMessage:"",updateAddressSuccess:!1,updateAddressError:!1,updateAddressPending:!1,updateAddressMessage:"",createAddressSuccess:!1,createAddressError:!1,createAddressPending:!1,createAddressMessage:"",getProvinceSuccess:!1,getProvinceError:!1,getProvincePending:!1,getProvinceMessage:"",provinceData:[],getCitySuccess:!1,getCityError:!1,getCityPending:!1,getCityMessage:"",cityData:[],getAddressIdPending:!1,getAddressIdError:!1,getAddressIdSuccess:!1,getAddressIdMessage:"",addressDetail:{}},Ka={modalNewAddress:!1,modalEditAddress:!1,idAddress:0},Za={popularData:[],popularPageInfo:{},popularIsPending:!1,popularIsError:!1,popularMessage:"",newData:[],newPageInfo:{},newIsPending:!1,newIsError:!1,newMessage:""},$a={sellerProducts:[],pageInfo:{},getDataSuccess:!1,getDataError:!1,getDataPending:!1,getDataMessage:"",postItemSuccess:!1,postItemError:!1,postItemPending:!1,postItemMessage:"",colors:[],colorsPageInfo:{},getColorsError:!1,getColorsPending:!1,getColorsMessage:"",condition:[],conditionPageInfo:{},getConditionError:!1,getConditionPending:!1,getConditionMessage:"",item:{},category:{},ratings:{},itemDetails:[],itemData:{},getItemDetailsSucces:!1,getItemDetailsError:!1,getItemDetailsPending:!1,getItemDetailsMessage:"",query:{page:1,limit:10}},Xa={deleteItemSuccess:!1,deleteItemError:!1,deleteItemPending:!1,deleteItemMessage:"",deleteImageSucces:!1,deleteImageError:!1,deleteImagePending:!1,deleteImageMessage:"",deleteItemDetailSuccess:!1,deleteItemDetailError:!1,deleteItemDetailPending:!1,deleteItemDetailMessage:""},en={updateItemSuccess:!1,updateItemError:!1,updateItemPending:!1,updateItemMessage:"",updateImageSuccess:!1,updateImageError:!1,updateImagePending:!1,updateImageMessage:"",updateDetailItemSuccess:!1,updateDetailItemError:!1,updateDetailItemPending:!1,updateDetailItemMessage:""},tn={query:{page:1,limit:10}},an={allCategories:[],pageInfoCategories:{},categoriesIsLoading:!1,categoriesIsError:!1,categoriesMessage:"",category:{},items:[],categoryPageInfo:{},categoryIsPending:!1,categoryhIsError:!1,categoryMessage:""},nn={passwordUpdated:!1,passwordError:!1,passwordPending:!1,passwordMessage:""},rn={pending:!1,success:!1,error:!1,message:""},cn={success:!1,pending:!1,error:!1,message:""},ln={success:!1,error:!1,pending:!1,message:"",bookingSummary:{},bookingDetails:[]},sn=Object(Ga.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER_LOGIN_PENDING":return Object(N.a)(Object(N.a)({},e),{},{isLoading:!0});case"AUTH_USER_LOGIN_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{isError:!0,isLoading:!1,alertMsg:t.payload.response.data.message});case"AUTH_USER_LOGIN_FULFILLED":var a=t.payload.data,n=a.message,r=a.token,c=Object(Ha.a)(r),l=c.role_id,s=c.id,o=3===l;return console.log(o),localStorage.setItem("token",r),localStorage.setItem("isSeller",o),localStorage.setItem("id",s),r?{isLogin:!0,isError:!1,alertMsg:n,isLoading:!1,token:r,isSeller:o,id:s}:Object(N.a)(Object(N.a)({},e),{},{isLogin:!1,isError:!0,alertMsg:n,isLoading:!1});case"AUTH_USER_LOGOUT":return localStorage.removeItem("token"),localStorage.removeItem("isSeller"),localStorage.removeItem("id"),Object(N.a)(Object(N.a)({},e),{},{isLogin:!1,isError:!1,alertMsg:"log out successfully!",isLoading:!1,token:"",id:0,isSeller:!1});case"CLEAR_MESSAGE":return Object(N.a)(Object(N.a)({},e),{},{alertMsg:""});case"SET_TOKEN":return Object(N.a)(Object(N.a)({},e),{},{isLogin:!0,token:t.payload.token,isSeller:t.payload.isSeller,id:t.payload.id});default:return Object(N.a)({},e)}},signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER_SIGNUP_PENDING":return Object(N.a)(Object(N.a)({},e),{},{isLoading:!0});case"AUTH_USER_SIGNUP_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{isError:!0,alertMsg:t.payload.response.data.message,isLoading:!1});case"AUTH_USER_SIGNUP_FULFILLED":return{userIsCreated:!0,isError:!1,alertMsg:"sign up successfull",isLoading:!1};case"CLEAR_STATE":return Object(N.a)(Object(N.a)({},e),{},{userIsCreated:!1,isError:!1,alertMsg:"",isLoading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_AVATAR_PENDING":return Object(N.a)(Object(N.a)({},e),{},{deleteAvaSuccess:!1,deleteAvaError:!1,deleteAvaPending:!0,deleteAvaMessage:"Deleting avatar.."});case"DELETE_AVATAR_ERROR":return Object(N.a)(Object(N.a)({},e),{},{deleteAvaSuccess:!1,deleteAvaError:!0,deleteAvaPending:!1,deleteAvaMessage:"Deleting avatar failed due some error"});case"DELETE_AVATAR_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{deleteAvaSuccess:!0,deleteAvaError:!1,deleteAvaPending:!1,deleteAvaMessage:"Delete avatar success!"});case"GET_PROFILE_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getProfilePending:!0,getProfileError:!1,getProfileSuccess:!1,getProfileMessage:"Getting your profile..."});case"GET_PROFILE_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getProfilePending:!1,getProfileError:!0,getProfileSuccess:!1,getProfileMessage:"There is error when getting profile"});case"GET_PROFILE_FULFILLED":var a=t.payload.data,n=a.results,r=a.success,c=a.message;return r?Object(N.a)(Object(N.a)({},e),{},{userData:n,getProfilePending:!1,getProfileError:!1,getProfileSuccess:!0,getProfileMessage:c}):Object(N.a)(Object(N.a)({},e),{},{getProfilePending:!1,getProfileError:!0,getProfileSuccess:!1,getProfileMessage:c});case"PATCH_PROFILE_PENDING":return Object(N.a)(Object(N.a)({},e),{},{isPending:!0,isUpdated:!1,isError:!1});case"PATCH_PROFILE_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{isPending:!1,isError:!0,isUpdated:!1,message:"there is an error patching the data"});case"PATCH_PROFILE_FULFILLED":var l=t.payload.data,s=l.success,o=l.message;return s?Object(N.a)(Object(N.a)({},e),{},{message:o,isPending:!1,isError:!1,isUpdated:!0}):Object(N.a)(Object(N.a)({},e),{},{message:"there is an error",isPending:!1,isError:!0});case"CLEAR_STATE":return Object(N.a)(Object(N.a)({},e),{},{isUpdated:!1,isError:!1,isPending:!1,deleteAvaSuccess:!1,deleteAvaError:!1,deleteAvaPending:!1,getProfilePending:!1,getProfileError:!1,getProfileSuccess:!1});default:return Object(N.a)({},e)}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{searchIsPending:!0,searchIsError:!1,searchIsSuccess:!1,searchMessage:"searching item.."});case"SEARCH_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{searchIsPending:!1,searchIsError:!0,searchIsSuccess:!1,searchMessage:"search item rejected"});case"SEARCH_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{searchData:t.payload.data.results,searchPageInfo:t.payload.data.pageInfo,searchIsPending:!1,searchIsError:!1,searchIsSuccess:!0,searchMessage:"search item successfull"});case"GET_NEW_ITEMS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{newItemPending:!0,newItemError:!1,newItemSuccess:!1,newItemMessage:"Getting new items..."});case"GET_NEW_ITEMS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{newItemPending:!1,newItemError:!1,newItemSuccess:!0,alertMsg:"There is an error at request data"});case"GET_NEW_ITEMS_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{dataNewItems:t.payload.data.results,pageInfoNewItems:t.payload.data.pageInfo,newItemPending:!1,newItemError:!1,newItemSuccess:!0,newItemMessage:"Success Get New Items"});case"GET_POPULAR_ITEMS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{popularPending:!1,popularError:!1,popularSuccess:!0,popularMessage:"Getting popular items..."});case"GET_POPULAR_ITEMS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{popularPending:!1,popularError:!0,popularSuccess:!1,popularMessage:"There is an error at request data"});case"GET_POPULAR_ITEMS_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{popularPending:!1,popularError:!1,popularSuccess:!0,popularMessage:"Success getting popular items",dataPopularItems:t.payload.data.data,pageInfoPopularItems:t.payload.data.pageInfo});case"GET_DETAIL_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{detailItemPending:!0,detailItemError:!1,detailItemSuccess:!1,detailItemMessage:"Getting item detail..."});case"GET_DETAIL_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{detailItemPending:!1,detailItemError:!0,detailItemSuccess:!1,detailItemMessage:"There is an error at request data"});case"GET_DETAIL_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{detailItem:t.payload.data.dataItem,detailColorItem:t.payload.data.productDetails,detailItemPending:!1,detailItemError:!1,detailItemSuccess:!0,detailItemMessage:"Get detail item success"});case"GET_DETAIL_COLOR_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{detailColorPending:!0,detailColorError:!1,detailColorSuccess:!1,detailColorMessage:"Getting detail color item..."});case"GET_DETAIL_COLOR_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{detailColorPending:!1,detailColorError:!0,detailColorSuccess:!1,detailColorMessage:"There is an error at request data"});case"GET_DETAIL_COLOR_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{detailColorPending:!1,detailColorError:!1,detailColorSuccess:!0,detailColorMessage:"Get detail color success",detailColorItem:t.payload.data});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_NEW_CART_PENDING":return Object(N.a)(Object(N.a)({},e),{},{postCartPending:!0,postCartError:!1,postCartSuccess:!1,postCartMessage:"Posting cart.."});case"POST_NEW_CART_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{postCartPending:!1,postCartError:!0,postCartSuccess:!1,postCartMessage:"There is an error at posting cart"});case"POST_NEW_CART_FULFILLED":var a=t.payload.data,n=a.message,r=a.success;return r?Object(N.a)(Object(N.a)({},e),{},{postCartPending:!1,postCartError:!1,postCartSuccess:!0,postCartMessage:"Post data cart successfully"}):Object(N.a)(Object(N.a)({},e),{},{postCartSuccess:!1,postCartError:!0,postCartMessage:n,postCartPending:!1});case"GET_CART_PENDING":return Object(N.a)(Object(N.a)({},e),{},{dataCartPending:!0,dataCartError:!1,dataCartSuccess:!1,dataCartMessage:"Getting data cart..."});case"GET_CART_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{dataCartPending:!1,dataCartError:!0,dataCartSuccess:!1,dataCartMessage:"There is an error at request data"});case"GET_CART_FULFILLED":var c=t.payload.data,l=c.message,s=c.success,o=c.results;return s?Object(N.a)(Object(N.a)({},e),{},{dataCart:o,dataCartPending:!1,dataCartError:!1,dataCartSuccess:!0,dataCartMessage:"Success get data cart"}):Object(N.a)(Object(N.a)({},e),{},{dataCartPending:!1,dataCartError:!0,dataCartSuccess:!1,dataCartMessage:l});default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROVINCE_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getProvinceSuccess:!1,getProvinceError:!1,getProvincePending:!0,getProvinceMessage:"Getting all of the province"});case"GET_PROVINCE_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getProvinceSuccess:!1,getProvinceError:!0,getProvincePending:!1,getProvinceMessage:"Get all of the province error"});case"GET_PROVINCE_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{getProvinceSuccess:!0,getProvinceError:!1,getProvincePending:!1,getProvinceMessage:"Get all of the province success",provinceData:t.payload.data.results});case"GET_CITY_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getCitySuccess:!1,getCityError:!1,getCityPending:!0,getCityMessage:"Getting city..."});case"GET_CITY_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getCitySuccess:!1,getCityError:!0,getCityPending:!1,getCityMessage:"Get city rejected"});case"GET_CITY_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{getCitySuccess:!0,getCityError:!1,getCityPending:!1,getCityMessage:"Get city success",cityData:t.payload.data.results});case"GET_ADDRESS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getAddressSuccess:!1,getAddressError:!1,getAddressPending:!0,getAddressMessage:"Getting address..."});case"GET_ADDRESS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getAddressSuccess:!1,getAddressError:!0,getAddressPending:!1,getAddressMessage:"There is an error when getting address"});case"GET_ADDRESS_FULFILLED":var a=t.payload.data,n=a.results,r=a.message;return Object(N.a)(Object(N.a)({},e),{},{getAddressSuccess:!0,getAddressError:!1,getAddressPending:!1,getAddressMessage:r,addressData:n});case"PATCH_ADDRESS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{updateAddressSuccess:!1,updateAddressError:!1,updateAddressPending:!0,updateAddressMessage:"Updating address..."});case"PATCH_ADDRESS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{updateAddressSuccess:!1,updateAddressError:!0,updateAddressPending:!1,updateAddressMessage:"there is an error patching the data"});case"PATCH_ADDRESS_FULFILLED":var c=t.payload.data,l=c.success,s=c.message;return l?Object(N.a)(Object(N.a)({},e),{},{updateAddressSuccess:!0,updateAddressError:!1,updateAddressPending:!1,updateAddressMessage:s}):Object(N.a)(Object(N.a)({},e),{},{updateAddressSuccess:!1,updateAddressError:!0,updateAddressPending:!1,updateAddressMessage:"there is an error"});case"POST_NEW_ADDRESS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{createAddressSuccess:!1,createAddressError:!1,createAddressPending:!0,createAddressMessage:"Creating address..."});case"POST_NEW_ADDRESS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{createAddressSuccess:!1,createAddressError:!0,createAddressPending:!1,createAddressMessage:"there is an error patching the data"});case"POST_NEW_ADDRESS_FULFILLED":var o=t.payload.data,i=o.success,d=o.message;return i?Object(N.a)(Object(N.a)({},e),{},{createAddressSuccess:!0,createAddressError:!1,createAddressPending:!1,createAddressMessage:d}):Object(N.a)(Object(N.a)({},e),{},{createAddressSuccess:!1,createAddressError:!0,createAddressPending:!1,createAddressMessage:"There is an error on creating address"});case"GET_ADDRESS_ID_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getAddressIdPending:!0,getAddressIdError:!1,getAddressIdSuccess:!1,getAddressIdMessage:"Getting detail address..."});case"GET_ADDRESS_ID_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getAddressIdPending:!1,getAddressIdError:!0,getAddressIdSuccess:!1,getAddressIdMessage:"Get detail address failed"});case"GET_ADDRESS_ID_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{getAddressIdPending:!1,getAddressIdError:!1,getAddressIdSuccess:!0,getAddressIdMessage:"Get detail address success",addressDetail:t.payload.data.result});default:return Object(N.a)({},e)}},modalButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_NEW_ADDRESS_OPEN":return Object(N.a)(Object(N.a)({},e),{},{modalNewAddress:!0});case"MODAL_NEW_ADDRESS_CLOSE":return Object(N.a)(Object(N.a)({},e),{},{modalNewAddress:!1});case"MODAL_EDIT_ADDRESS_OPEN":return Object(N.a)(Object(N.a)({},e),{},{modalEditAddress:!0,idAddress:t.payload});case"MODAL_EDIT_ADDRESS_CLOSE":return Object(N.a)(Object(N.a)({},e),{},{modalEditAddress:!1,idAddress:0});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NEW_PENDING":return Object(N.a)(Object(N.a)({},e),{},{newMessage:"getting new items...",newIsError:!1,newIsPending:!0});case"GET_NEW_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{newMessage:"error getting new items",newIsError:!0,newIsPending:!1});case"GET_NEW_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{newData:t.payload.data.results,newPageInfo:t.payload.data.pageInfo,newMessage:"success getting new items",newIsError:!1,newIsPending:!1});case"GET_POPULAR_PENDING":return Object(N.a)(Object(N.a)({},e),{},{popularMessage:"getting popular items...",popularIsError:!1,newIsPending:!0});case"GET_POPULAR_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{popularMessage:"error getting popular items",popularIsError:!0,popularIsPending:!1});case"GET_POPULAR_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{popularData:t.payload.data.results,popularPageInfo:t.payload.data.pageInfo,popularMessage:"success getting popular items",popularIsError:!1,popularIsPending:!1});default:return Object(N.a)({},e)}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUERY":return Object(N.a)(Object(N.a)({},e),{},{query:t.payload});case"CLEAR_QUERY":return Object(N.a)(Object(N.a)({},e),{},{query:{page:1,limit:10}});case"GET_ITEM_DETAILS_ADMIN_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getItemDetailsSucces:!1,getItemDetailsError:!1,getItemDetailsPending:!0,getItemDetailsMessage:"Getting item details..."});case"GET_ITEM_DETAILS_ADMIN_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getItemDetailsSucces:!1,getItemDetailsError:!0,getItemDetailsPending:!1,getItemDetailsMessage:"Unable to get item details"});case"GET_ITEM_DETAILS_ADMIN_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{itemData:t.payload.data.results,item:t.payload.data.results.item,category:t.payload.data.results.category,itemDetails:t.payload.data.results.itemDetails,ratings:t.payload.data.results.ratings,getItemDetailsSucces:!0,getItemDetailsError:!1,getItemDetailsPending:!1,getItemDetailsMessage:"Success get item details"});case"GET_CONDITION_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getConditionError:!1,getConditionPending:!0,getConditionMessage:"Getting item condition"});case"GET_CONDITION_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getConditionError:!1,getConditionPending:!0,getConditionMessage:"Get item condition error"});case"GET_CONDITION_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{condition:t.payload.data.results,conditionPageInfo:t.payload.data.pageInfo,getConditionError:!1,getConditionPending:!0,getConditionMessage:"Get item condition success"});case"GET_COLOR_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getColorsError:!1,getColorsPending:!0,getColorsMessage:"Getting all colors..."});case"GET_COLOR_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getColorsError:!0,getColorsPending:!1,getColorsMessage:"Get all colors error"});case"GET_COLOR_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{colors:t.payload.data.results,colorsPageInfo:t.payload.data.pageInfo,getColorsError:!0,getColorsPending:!1,getColorsMessage:"Get all colors success"});case"POST_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{postItemSuccess:!1,postItemError:!1,postItemPending:!0,postItemMessage:"Posting item..."});case"POST_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{postItemSuccess:!1,postItemError:!0,postItemPending:!1,postItemMessage:"Post item rejected"});case"POST_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{postItemSuccess:!0,postItemError:!1,postItemPending:!1,postItemMessage:"Post item fulfilled"});case"GET_SELLER_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{getDataSuccess:!1,getDataError:!1,getDataPending:!0,getDataMessage:"Getting items..."});case"GET_SELLER_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{getDataSuccess:!1,getDataError:!0,getDataPending:!1,getDataMessage:"Get Item rejected"});case"GET_SELLER_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{getDataSuccess:!0,getDataError:!1,getDataPending:!1,sellerProducts:t.payload.data.results,pageInfo:t.payload.data.pageInfo,getDataMessage:"Success getItem"});case"LOGOUT":return Object(N.a)({},$a);case"CLEAR":return Object(N.a)(Object(N.a)({},e),{},{getDataSuccess:!1,getDataError:!1,getDataPending:!1,postItemSuccess:!1,postItemError:!1,postItemPending:!1});default:return Object(N.a)({},e)}},adminDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{deleteItemSuccess:!1,deleteItemError:!1,deleteItemPending:!0,deleteItemMessage:"Deleting Item.."});case"DELETE_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{deleteItemSuccess:!1,deleteItemError:!0,deleteItemPending:!1,deleteItemMessage:"Delete Item Rejected"});case"DELETE_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{deleteItemSuccess:!0,deleteItemError:!1,deleteItemPending:!1,deleteItemMessage:"Delete item success"});case"DELETE_IMAGE_PENDING":return Object(N.a)(Object(N.a)({},e),{},{deleteImageSuccess:!1,deleteImageError:!1,deleteImagePending:!0,deleteImageMessage:"Deleting image.."});case"DELETE_IMAGE_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{deleteImageSuccess:!1,deleteImageError:!0,deleteImagePending:!1,deleteImageMessage:"Delete image Rejected"});case"DELETE_IMAGE_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{deleteImageSuccess:!0,deleteImageError:!1,deleteImagePending:!1,deleteImageMessage:"Delete image success"});case"DELETE_ITEM_DETAILS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{deleteItemDetailSuccess:!1,deleteItemDetailError:!1,deleteItemDetailPending:!0,deleteItemDetailMessage:"Deleting item detail.."});case"DELETE_ITEM_DETAILS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{deleteItemDetailSuccess:!1,deleteItemDetailError:!0,deleteItemDetailPending:!1,deleteItemDetailMessage:"Delete item rejected"});case"DELETE_ITEM_DETAILS_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{deleteItemDetailSuccess:!0,deleteItemDetailError:!1,deleteItemDetailPending:!1,deleteItemDetailMessage:"Delete item detail success"});case"LOGOUT":case"CLEAR":return Object(N.a)({},Xa);default:return Object(N.a)({},e)}},adminUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ITEM_PENDING":return Object(N.a)(Object(N.a)({},e),{},{updateItemSuccess:!1,updateItemError:!1,updateItemPending:!0,updateItemMessage:"Updating Item.."});case"UPDATE_ITEM_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{updateItemSuccess:!1,updateItemError:!0,updateItemPending:!1,updateItemMessage:"Update Item Rejected"});case"UPDATE_ITEM_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{updateItemSuccess:!0,updateItemError:!1,updateItemPending:!1,updateItemMessage:"Update item success"});case"UPDATE_IMAGE_PENDING":return Object(N.a)(Object(N.a)({},e),{},{updateImageSuccess:!1,updateImageError:!1,updateImagePending:!0,updateImageMessage:"Updating image..."});case"UPDATE_IMAGE_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{updateImageSuccess:!1,updateImageError:!0,updateImagePending:!1,updateImageMessage:"Update image is failed"});case"UPDATE_IMAGE_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{updateImageSuccess:!0,updateImageError:!1,updateImagePending:!1,updateImageMessage:"Update image is success"});case"UPDATE_DETAIL_PENDING":return Object(N.a)(Object(N.a)({},e),{},{updateDetailItemSuccess:!1,updateDetailItemError:!1,updateDetailItemPending:!0,updateDetailItemMessage:"Updating item detail..."});case"UPDATE_DETAIL_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{updateDetailItemSuccess:!1,updateDetailItemError:!0,updateDetailItemPending:!1,updateDetailItemMessage:"Update item detail failed"});case"UPDATE_DETAIL_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{updateDetailItemSuccess:!1,updateDetailItemError:!1,updateDetailItemPending:!1,updateDetailItemMessage:"Success update item detail"});case"LOGOUT":case"CLEAR":return Object(N.a)({},en);default:return Object(N.a)({},e)}},searchQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SEARCH_QUERY":return Object(N.a)(Object(N.a)({},e),{},{query:t.payload});case"CLEAR_QUERY":return Object(N.a)({},tn);default:return Object(N.a)({},e)}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES_PENDING":return Object(N.a)(Object(N.a)({},e),{},{categoriesIsLoading:!0,categoriesIsError:!1,categoriesMessage:"Getting detail categories"});case"GET_CATEGORIES_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{categoriesIsLoading:!1,categoriesIsError:!0,categoriesMessage:"Get detail category rejected"});case"GET_CATEGORIES_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{allCategories:t.payload.data.results,pageInfoCategories:t.payload.data.pageInfo,categoriesIsLoading:!1,categoriesIsError:!1,categoriesMessage:"Get category success"});case"GET_CATEGORY_DETAIL_PENDING":return Object(N.a)(Object(N.a)({},e),{},{categoryIsPending:!0,categoryhIsError:!1,categoryMessage:"Getting category detail..."});case"GET_CATEGORY_DETAIL_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{categoryIsPending:!1,categoryhIsError:!0,categoryMessage:"Get category detail is error"});case"GET_CATEGORY_DETAIL_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{category:t.payload.data.category,items:t.payload.data.items,categoryPageInfo:t.payload.data.pageInfo,categoryIsPending:!1,categoryhIsError:!0,categoryMessage:"Get category detail is success"});default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PASSWORD_PENDING":return Object(N.a)(Object(N.a)({},e),{},{passwordUpdated:!1,passwordError:!1,passwordPending:!0,passwordMessage:"Sending your new password..."});case"CHANGE_PASSWORD_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{passwordUpdated:!1,passwordError:!0,passwordPending:!1,passwordMessage:t.payload.response.data.message});case"CHANGE_PASSWORD_FULFILLED":return{passwordUpdated:!0,passwordError:!1,passwordPending:!1,passwordMessage:"Update password successfull"};case"CLEAR_STATE_PASS":return Object(N.a)({},e);default:return e}},deleteAddress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_ADDRESS_PENDING":return Object(N.a)(Object(N.a)({},e),{},{pending:!0,success:!1,error:!1,message:"Deleting address..."});case"DELETE_ADDRESS_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{pending:!1,success:!1,error:!0,message:"Delete address failed"});case"DELETE_ADDRESS_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{pending:!1,success:!0,error:!1,message:"Success delete address"});default:return Object(N.a)({},e)}},deleteCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_BULK_CART_PENDING":return Object(N.a)(Object(N.a)({},e),{},{pending:!0,error:!1,success:!1,message:"Deleting cart.."});case"DELETE_BULK_CART_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{pending:!1,error:!0,success:!1,message:"There is an error at deleting cart"});case"DELETE_BULK_CART_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{pending:!1,error:!1,success:!0,message:"Delete data cart successfully"});default:return e}},getCheckout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CHECKOUT_PENDING":return Object(N.a)(Object(N.a)({},e),{},{success:!1,error:!1,pending:!0,message:"Getting checkout data.."});case"GET_CHECKOUT_REJECTED":return Object(N.a)(Object(N.a)({},e),{},{success:!1,error:!0,pending:!1,message:"Error getting checkout"});case"GET_CHECKOUT_FULFILLED":return Object(N.a)(Object(N.a)({},e),{},{success:!0,error:!1,pending:!1,message:"Get checkout data success",bookingSummary:t.payload.data.bookingSummary,bookingDetail:t.payload.data.bookingDetail});default:return e}}}),on=Object(Ga.d)(sn,Object(Ga.a)(Ba.a,qa.a)),dn=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("token")){var e={token:localStorage.getItem("token"),isSeller:localStorage.getItem("isSeller"),id:localStorage.getItem("id")};this.props.setToken(e)}}},{key:"componentDidUpdate",value:function(){if(localStorage.getItem("token")){var e={token:localStorage.getItem("token"),isSeller:localStorage.getItem("isSeller"),id:localStorage.getItem("id")};this.props.setToken(e)}}},{key:"render",value:function(){return r.a.createElement(s.a,{store:on},r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Tuku! Shopping online with trusted seller! Shopping? Nengdi Wae!")),r.a.createElement(u.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Home || Tuku! Shopping online with trusted seller! Shopping? Nengdi Wae!")),r.a.createElement(Mt,e))},exact:!0}),r.a.createElement(p.b,{path:"/login",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Login || Tuku!")),r.a.createElement(Kt,e))},exact:!0}),r.a.createElement(p.b,{path:"/signup",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Sign Up || Tuku!")),r.a.createElement(aa,e))},exact:!0}),r.a.createElement(p.b,{path:"/product/:id",render:function(e){return r.a.createElement(ka,e)},exact:!0}),r.a.createElement(p.b,{path:"/search",render:function(e){return r.a.createElement(Ua,e)},exact:!0}),r.a.createElement(b,{path:"/admin"},r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Admin || Tuku!")),r.a.createElement(ht,null))),r.a.createElement(f,{path:"/cart"},r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Cart || Tuku!")),r.a.createElement(Ra,null))),r.a.createElement(f,{path:"/profile"},r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Profile || Tuku!")),r.a.createElement(Pa,null))),r.a.createElement(f,{path:"/address"},r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Address || Tuku!")),r.a.createElement(Pa,null))))))}}]),a}(r.a.Component),mn={setToken:ae.setToken},un=Object(s.b)((function(e){return{token:e.auth.token}}),mn)(dn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pn={mainTheme:"#457373",secondaryTheme:"#7C4935",navyColor:"#102526",dijonColor:"#9B8148",jeanColor:"#5A6868"};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:on},r.a.createElement(un,pn))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a.p+"static/media/profile.a1ee044c.jpg"},74:function(e,t,a){e.exports=a.p+"static/media/TukuIcon.2bfeee0f.png"}},[[269,1,2]]]);
//# sourceMappingURL=main.04adb2e2.chunk.js.map